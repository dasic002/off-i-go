{"version":3,"sources":["App.module.css","api/axiosDefaults.js","contexts/CurrentUserContext.js","contexts/DeviceSizeContext.js","components/Avatar.js","hooks/useClickOutsideToggle.js","components/BaseWidget.js","components/NavBar.js","pages/auth/SignUpForm.js","pages/auth/SignInForm.js","components/Asset.js","pages/posts/PostCreateForm.js","components/PopularReactions.js","pages/posts/Post.js","pages/posts/PostPage.js","utils/utils.js","pages/posts/PostsPage.js","App.js","reportWebVitals.js","index.js","styles/SignInUpForm.module.css","styles/Button.module.css","styles/BaseWidget.module.css","styles/Post.module.css","styles/PopularReactions.module.css","styles/Asset.module.css","styles/PostsPage.module.css","styles/Avatar.module.css","styles/PostCreateEditForm.module.css","styles/NavBar.module.css"],"names":["module","exports","axios","defaults","baseURL","headers","post","withCredentials","axiosReq","create","axiosRes","CurrentUserContext","createContext","SetCurrentUserContext","useCurrentUser","useContext","useSetCurrentUser","CurrentUserProvider","_ref","children","currentUser","setCurrentUser","useState","history","useHistory","useEffect","async","data","get","err","console","log","handleMount","useMemo","interceptors","request","use","prevCurrentUser","push","config","Promise","reject","response","_err$response","status","_jsx","Provider","value","DeviceSizeContext","useDeviceSize","DeviceSizeProvider","deviceSize","setDeviceSize","handleResize","window","innerWidth","addEventListener","removeEventListener","Avatar","src","height","text","_jsxs","className","styles","width","alt","useClickOutsideToggle","expanded","setExpanded","ref","useRef","handleClickOutside","event","current","contains","target","document","BaseWidget","NavBarLinks","AddPostLink","device","MessageWidget","ButtonGroup","Container","Row","Col","NavLink","activeClassName","Active","to","_Fragment","Navbar","expand","NavBar","id","Collapse","Nav","Toggle","onClick","mobile","pathname","setPathname","React","location","addPostIcon","loggedInIcons","profile_id","profile_image","loggedOutIcons","exact","fixed","Brand","SignUpForm","_errors$username","_errors$password","_errors$password2","_errors$non_field_err","signUpData","setSignUpData","username","password1","password2","errors","setErrors","handleChange","name","md","appStyles","Content","Header","Form","onSubmit","preventDefault","Group","controlId","Label","Control","Input","type","placeholder","onChange","map","message","idx","Alert","variant","Button","btnStyles","Wide","Bright","non_field_errors","Link","SignUpCol","Image","FillerImage","SignUpImage","SignInForm","signInData","setSignInData","password","user","SignInCol","SignInImage","Asset","spinner","icon","Spinner","animation","role","Icon","Upload","PostCreateForm","_errors$title","_errors$content","_errors$tags","_errors$listing_type","postData","setPostData","title","content","image","tags","listing_type","imageInput","handlePostSubmit","formData","FormData","append","medias","_err$response3","_err$response4","textFields","as","rows","column","sm","defaultValue","Blue","goBack","files","length","mediaData","_err$response2","lg","rounded","controls","htmlFor","File","accept","URL","revokeObjectURL","createObjectURL","concatReactionStyles","index","PopularReactions1","PopularReactions2","PopularReactions3","PopularReactions","popular_reactions","count","_ref2","reaction","reactionToIcon","Post","props","content_type","owner","body","updated_at","reaction_id","reaction_type_id","reactions_count","comments_count","postPage","setPosts","is_owner","Card","Body","Media","xs","Title","Text","PostBar","OverlayTrigger","placement","overlay","Tooltip","delete","prevPosts","results","item","pop","Reaction","object_id","ReactionOutline","PostPage","useParams","setPost","all","NoResults","PostsPage","filter","posts","hasLoaded","setHasLoaded","useLocation","query","setQuery","timer","setTimeout","error","fetchPosts","clearTimeout","SearchIcon","SearchBar","e","InfiniteScroll","dataLength","loader","hasMore","next","resource","setResource","prevResource","reduce","acc","cur","some","accResult","fetchMoreData","App","Main","Switch","Route","path","render","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","Router","getElementById"],"mappings":"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","file":"static/js/main.52d2f214.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__2i-O5\",\"Main\":\"App_Main__TAuIZ\",\"Content\":\"App_Content__ADkFS\",\"FillerImage\":\"App_FillerImage__CvFK4\",\"Image\":\"App_Image__23SDY\"};","// IMPORTANT!!\r\n// Because this React app is running in the same workspace as the API,\r\n\r\n// there is no need to set a separate baseURL until you reach deployment.\r\n\r\n// Setting a baseURL before you reach deployment will cause errors\r\nimport axios from \"axios\";\r\n\r\naxios.defaults.baseURL = \"/api\";\r\naxios.defaults.headers.post[\"Content-Type\"] = \"multipart/form-data\";\r\naxios.defaults.withCredentials = true;\r\n\r\nexport const axiosReq = axios.create();\r\nexport const axiosRes = axios.create();","import { useState, useEffect, createContext, useContext, useMemo } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { axiosReq, axiosRes } from \"../api/axiosDefaults\";\r\n\r\nexport const CurrentUserContext = createContext();\r\nexport const SetCurrentUserContext = createContext();\r\n\r\nexport const useCurrentUser = () => useContext(CurrentUserContext);\r\nexport const useSetCurrentUser = () => useContext(SetCurrentUserContext);\r\n\r\nexport const CurrentUserProvider = ({ children }) => {\r\n  const [currentUser, setCurrentUser] = useState(null);\r\n  const history = useHistory();\r\n\r\n  const handleMount = async () => {\r\n    try {\r\n      const { data } = await axiosRes.get(\"dj-rest-auth/user/\");\r\n      setCurrentUser(data);\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    handleMount();\r\n  }, []);\r\n\r\n  useMemo(() => {\r\n    axiosReq.interceptors.request.use(\r\n      async (config) => {\r\n        try {\r\n          await axios.post(\"/dj-rest-auth/token/refresh/\");\r\n        } catch (err) {\r\n          setCurrentUser((prevCurrentUser) => {\r\n            if (prevCurrentUser) {\r\n              history.push(\"/signin\");\r\n            }\r\n            return null;\r\n          });\r\n          return config;\r\n        }\r\n        return config;\r\n      },\r\n      (err) => {\r\n        return Promise.reject(err);\r\n      }\r\n    );\r\n\r\n    axiosRes.interceptors.response.use(\r\n      (response) => response,\r\n      async (err) => {\r\n        if (err.response?.status === 401) {\r\n          try {\r\n            await axios.post(\"/dj-rest-auth/token/refresh/\");\r\n          } catch (err) {\r\n            setCurrentUser((prevCurrentUser) => {\r\n              if (prevCurrentUser) {\r\n                history.push(\"/signin\");\r\n              }\r\n              return null;\r\n            });\r\n          }\r\n          return axios(err.config);\r\n        }\r\n        return Promise.reject(err);\r\n      }\r\n    );\r\n  }, [history]);\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <SetCurrentUserContext.Provider value={setCurrentUser}>\r\n        {children}\r\n      </SetCurrentUserContext.Provider>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n};\r\n","import { createContext, useContext, useEffect, useState } from \"react\";\r\n\r\nexport const DeviceSizeContext = createContext();\r\n\r\nexport const useDeviceSize = () => useContext(DeviceSizeContext);\r\n\r\nexport const DeviceSizeProvider = ({ children }) => {\r\n  const [deviceSize, setDeviceSize] = useState(\"mobile\");\r\n\r\n  useEffect(() => {\r\n    const handleResize = () => {\r\n      if (window.innerWidth < 500) {\r\n        setDeviceSize(\"mobile\");\r\n      } else {\r\n        setDeviceSize(\"desktop\");\r\n      }\r\n    };\r\n\r\n    handleResize(); // Set initial device size\r\n    window.addEventListener(\"resize\", handleResize);\r\n\r\n    return () => {\r\n      window.removeEventListener(\"resize\", handleResize);\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <DeviceSizeContext.Provider value={deviceSize}>\r\n      {children}\r\n    </DeviceSizeContext.Provider>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport styles from \"../styles/Avatar.module.css\";\r\n\r\nconst Avatar = ({ src, height = 45, text }) => {\r\n  return (\r\n    <span>\r\n      <img\r\n        className={styles.Avatar}\r\n        src={src}\r\n        height={height}\r\n        width={height}\r\n        alt=\"avatar\"\r\n      />\r\n      {text}\r\n    </span>\r\n  );\r\n};\r\n\r\nexport default Avatar;\r\n","import { useEffect, useRef, useState } from \"react\";\r\n\r\nconst useClickOutsideToggle = () => {\r\n  const [expanded, setExpanded] = useState(false);\r\n  const ref = useRef(null);\r\n  useEffect(() => {\r\n    const handleClickOutside = (event) => {\r\n      if (ref.current && !ref.current.contains(event.target)) {\r\n        setExpanded(false);\r\n      }\r\n    };\r\n\r\n    document.addEventListener(\"mouseup\", handleClickOutside);\r\n    return () => {\r\n      document.removeEventListener(\"mouseup\", handleClickOutside);\r\n    };\r\n  }, [ref]);\r\n\r\n  return { expanded, setExpanded, ref };\r\n};\r\n\r\nexport default useClickOutsideToggle;\r\n","import React from \"react\";\r\nimport {\r\n  ButtonGroup,\r\n  Col,\r\n  Container,\r\n  Navbar,\r\n  Row,\r\n} from \"react-bootstrap\";\r\nimport { NavLink } from \"react-router-dom/cjs/react-router-dom\";\r\nimport styles from \"../styles/BaseWidget.module.css\";\r\nimport { Nav } from \"react-bootstrap\";\r\nimport { useDeviceSize } from \"../contexts/DeviceSizeContext\";\r\nimport useClickOutsideToggle from \"../hooks/useClickOutsideToggle\";\r\n\r\nconst BaseWidget = ({ NavBarLinks, AddPostLink }) => {\r\n  const device = useDeviceSize();\r\n\r\n  const { expanded, setExpanded, ref } = useClickOutsideToggle();\r\n\r\n  return (\r\n    <div\r\n      className={\r\n        device === \"mobile\"\r\n          ? styles.BaseWidget\r\n          : styles.BaseWidget + \" \" + styles.MessageWidget\r\n      }\r\n    >\r\n      <ButtonGroup\r\n        className={`d-flex flex-row justify-space-between ${styles.ButtonGroup}`}\r\n      >\r\n        <Container>\r\n          <Row>\r\n            <Col className=\"d-flex p-0\">\r\n              <NavLink\r\n                className={styles.NavLink}\r\n                activeClassName={styles.Active}\r\n                to=\"/messages\"\r\n              >\r\n                <i className=\"fa-solid fa-envelope\"></i>\r\n                <span className=\"d-none d-md-inline\">Messages</span>\r\n              </NavLink>\r\n            </Col>\r\n            {device === \"mobile\" ? (\r\n              <>\r\n                <Col className=\"d-flex p-0\">{AddPostLink}</Col>\r\n                <Col className=\"d-flex p-0\">\r\n                  <Navbar\r\n                    expand=\"lg\"\r\n                    expanded={expanded}\r\n                    className={styles.NavBar}\r\n                    id=\"widget-nav-bar\"\r\n                  >\r\n                    <Navbar.Collapse id=\"basic-navbar-nav\">\r\n                      <Nav className={`ml-auto text-left p-1`}>{NavBarLinks}</Nav>\r\n                    </Navbar.Collapse>\r\n                    <Navbar.Toggle\r\n                      ref={ref}\r\n                      onClick={() => setExpanded(!expanded)}\r\n                      aria-controls=\"basic-navbar-nav\"\r\n                      className={styles.Toggle}\r\n                    ><i className=\"fa-solid fa-bars\"></i></Navbar.Toggle>\r\n                  </Navbar>\r\n                </Col>\r\n              </>\r\n            ) : (\r\n              \"\"\r\n            )}\r\n          </Row>\r\n        </Container>\r\n      </ButtonGroup>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BaseWidget;\r\n","import React from \"react\";\r\nimport { Navbar, Nav, Container } from \"react-bootstrap\";\r\nimport styles from \"../styles/NavBar.module.css\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport {\r\n  useCurrentUser,\r\n  useSetCurrentUser,\r\n} from \"../contexts/CurrentUserContext\";\r\nimport { useDeviceSize } from \"../contexts/DeviceSizeContext\";\r\nimport Avatar from \"./Avatar\";\r\nimport axios from \"axios\";\r\nimport BaseWidget from \"./BaseWidget\";\r\nimport useClickOutsideToggle from \"../hooks/useClickOutsideToggle\";\r\n\r\n\r\nconst NavBar = () => {\r\n  const currentUser = useCurrentUser();\r\n  const setCurrentUser = useSetCurrentUser();\r\n  const device = useDeviceSize();\r\n  const mobile = device === \"mobile\" ? true : false;\r\n\r\n  const { expanded, setExpanded, ref } = useClickOutsideToggle();\r\n\r\n  const [pathname, setPathname] = React.useState(window.location.pathname);\r\n\r\n  const handleSignOut = async () => {\r\n    try {\r\n      await axios.post(\"/dj-rest-auth/logout/\");\r\n      setCurrentUser(null);\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  const addPostIcon = (\r\n    <>\r\n      <NavLink\r\n        className={`${styles.NavLink} ${mobile ? \"m-auto\" : \"\"}`}\r\n        activeClassName={styles.Active}\r\n        to=\"/posts/create\"\r\n      >\r\n        <i className=\"fa-solid fa-square-plus\"></i>\r\n        <span className={mobile ? \"d-none\" : \"\"}>Add Post</span>\r\n      </NavLink>\r\n    </>\r\n  );\r\n\r\n  const loggedInIcons = (\r\n    <>\r\n      <NavLink\r\n        className={styles.NavLink}\r\n        activeClassName={styles.Active}\r\n        to=\"/discover\"\r\n        onClick={() => setPathname(\"/discover\")}\r\n      >\r\n        <i className=\"fa-solid fa-earth-europe\"></i>\r\n        <span className={`${pathname !== '/discover' && 'd-md-none'} d-lg-inline`}>Discover</span>\r\n        {/* <span className=\"d-md-none d-lg-inline\">Discover</span> */}\r\n      </NavLink>\r\n      <NavLink\r\n        className={styles.NavLink}\r\n        activeClassName={styles.Active}\r\n        to=\"/feed\"\r\n        onClick={() => setPathname(\"/feed\")}\r\n      >\r\n        <i className=\"fas fa-stream\"></i>\r\n        <span className={`${pathname !== '/feed' && 'd-md-none'} d-lg-inline`}>Feed</span>\r\n        {/* <span className=\"d-md-none d-lg-inline\">Feed</span> */}\r\n      </NavLink>\r\n      <NavLink\r\n        className={styles.NavLink}\r\n        activeClassName={styles.Active}\r\n        to=\"/for-me\"\r\n        onClick={() => setPathname(\"/for-me\")}\r\n      >\r\n        <i className=\"fa-solid fa-hashtag\"></i>\r\n        <span className={`${pathname !== '/for-me'  && 'd-md-none'} d-lg-inline`}>For me</span>\r\n        {/* <span className=\"d-md-none d-lg-inline\">For me</span> */}\r\n      </NavLink>\r\n      <NavLink\r\n        className={styles.NavLink}\r\n        activeClassName={styles.Active}\r\n        to=\"/near-me\"\r\n        onClick={() => setPathname(\"/near-me\")}\r\n      >\r\n        <i className=\"fa-solid fa-location-dot\"></i>\r\n        <span className={`${pathname !== '/near-me' && 'd-md-none'} d-lg-inline`}>Near me</span>\r\n        {/* <span className=\"d-md-none d-lg-inline\">Near me</span> */}\r\n      </NavLink>\r\n      <NavLink className={styles.NavLink} to=\"/\" onClick={handleSignOut}>\r\n        <i className=\"fas fa-sign-out-alt\"></i>\r\n        <span className=\"d-md-none d-lg-inline\">Sign out</span>\r\n      </NavLink>\r\n      <NavLink\r\n        className={styles.NavLink}\r\n        activeClassName={styles.Active}\r\n        to={`/profiles/${currentUser?.profile_id}`}\r\n      >\r\n        <Avatar src={currentUser?.profile_image} height={40} text=\"Profile\" />\r\n      </NavLink>\r\n    </>\r\n  );\r\n  const loggedOutIcons = (\r\n    <>\r\n      <NavLink\r\n        exact\r\n        className={styles.NavLink}\r\n        activeClassName={styles.Active}\r\n        to=\"/\"\r\n      >\r\n        <i className=\"fas fa-home\"></i>\r\n        <span>Home</span>\r\n      </NavLink>\r\n      <NavLink\r\n        className={styles.NavLink}\r\n        activeClassName={styles.Active}\r\n        to=\"/signin\"\r\n      >\r\n        <i className=\"fas fa-sign-in-alt\"></i>\r\n        <span>Sign in</span>\r\n      </NavLink>\r\n      <NavLink\r\n        className={styles.NavLink}\r\n        activeClassName={styles.Active}\r\n        to=\"/signup\"\r\n      >\r\n        <i className=\"fas fa-user-plus\"></i>\r\n        <span>Sign up</span>\r\n      </NavLink>\r\n    </>\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <Navbar\r\n        expanded={expanded}\r\n        expand=\"md\"\r\n        fixed=\"top\"\r\n        className={styles.NavBar}\r\n      >\r\n        <Container>\r\n          <NavLink to=\"/\">\r\n            <Navbar.Brand className={styles.Brand}>Off I Go</Navbar.Brand>\r\n          </NavLink>\r\n          {mobile ? (\r\n            <>\r\n              <i className=\"fa-solid fa-magnifying-glass\"></i>\r\n            </>\r\n          ) : (\r\n            <>\r\n              {currentUser && addPostIcon}\r\n              <Navbar.Toggle\r\n                ref={ref}\r\n                onClick={() => setExpanded(!expanded)}\r\n                aria-controls=\"basic-navbar-nav\"\r\n                className={styles.Toggle}\r\n              >\r\n                <i className=\"fa-solid fa-bars\"></i>\r\n              </Navbar.Toggle>\r\n              <Navbar.Collapse id=\"basic-navbar-nav\">\r\n                <Nav className=\"ml-auto text-right\">\r\n                  {currentUser ? loggedInIcons : loggedOutIcons}\r\n                </Nav>\r\n              </Navbar.Collapse>\r\n            </>\r\n          )}\r\n        </Container>\r\n      </Navbar>\r\n      <BaseWidget\r\n        NavBarLinks={currentUser ? loggedInIcons : loggedOutIcons}\r\n        AddPostLink={addPostIcon}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default NavBar;\r\n","import React, { useState } from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\n\r\nimport styles from \"../../styles/SignInUpForm.module.css\";\r\nimport btnStyles from \"../../styles/Button.module.css\";\r\nimport appStyles from \"../../App.module.css\";\r\n\r\nimport {\r\n  Form,\r\n  Button,\r\n  Image,\r\n  Col,\r\n  Row,\r\n  Container,\r\n  Alert,\r\n} from \"react-bootstrap\";\r\nimport axios from \"axios\";\r\n\r\nconst SignUpForm = () => {\r\n  const [signUpData, setSignUpData] = useState({\r\n    username: \"\",\r\n    password1: \"\",\r\n    password2: \"\",\r\n  });\r\n  const { username, password1, password2 } = signUpData;\r\n\r\n  const [errors, setErrors] = useState({});\r\n\r\n  const history = useHistory();\r\n\r\n  const handleChange = (event) => {\r\n    setSignUpData({\r\n      ...signUpData,\r\n      [event.target.name]: event.target.value,\r\n    });\r\n  };\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    try {\r\n      await axios.post(\"dj-rest-auth/registration/\", signUpData);\r\n      history.push(\"/signin\");\r\n    } catch (err) {\r\n      setErrors(err.response?.data);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Row className={styles.Row}>\r\n      <Col className=\"my-auto py-2 p-md-2\" md={6}>\r\n        <Container className={`${appStyles.Content} p-4 `}>\r\n          <h1 className={styles.Header}>sign up</h1>\r\n\r\n          <Form onSubmit={handleSubmit}>\r\n            <Form.Group controlId=\"username\">\r\n              <Form.Label className=\"d-none\">username</Form.Label>\r\n              <Form.Control\r\n                className={styles.Input}\r\n                type=\"text\"\r\n                placeholder=\"Username\"\r\n                name=\"username\"\r\n                value={username}\r\n                onChange={handleChange}\r\n              />\r\n            </Form.Group>\r\n            {errors.username?.map((message, idx) => (\r\n              <Alert variant=\"warning\" key={idx}>\r\n                {message}\r\n              </Alert>\r\n            ))}\r\n\r\n            <Form.Group controlId=\"password1\">\r\n              <Form.Label className=\"d-none\">Password</Form.Label>\r\n              <Form.Control\r\n                className={styles.Input}\r\n                type=\"password\"\r\n                placeholder=\"Password\"\r\n                name=\"password1\"\r\n                value={password1}\r\n                onChange={handleChange}\r\n              />\r\n            </Form.Group>\r\n            {errors.password1?.map((message, idx) => (\r\n              <Alert variant=\"warning\" key={idx}>\r\n                {message}\r\n              </Alert>\r\n            ))}\r\n\r\n            <Form.Group controlId=\"password2\">\r\n              <Form.Label className=\"d-none\">Confirm password</Form.Label>\r\n              <Form.Control\r\n                className={styles.Input}\r\n                type=\"password\"\r\n                placeholder=\"Confirm password\"\r\n                name=\"password2\"\r\n                value={password2}\r\n                onChange={handleChange}\r\n              />\r\n            </Form.Group>\r\n            {errors.password2?.map((message, idx) => (\r\n              <Alert variant=\"warning\" key={idx}>\r\n                {message}\r\n              </Alert>\r\n            ))}\r\n\r\n            <Button\r\n              className={`${btnStyles.Button} ${btnStyles.Wide} ${btnStyles.Bright}`}\r\n              type=\"submit\"\r\n            >\r\n              Sign up\r\n            </Button>\r\n            {errors.non_field_errors?.map((message, idx) => (\r\n              <Alert variant=\"warning\" key={idx} className=\"mt-3\">\r\n                {message}\r\n              </Alert>\r\n            ))}\r\n          </Form>\r\n        </Container>\r\n        <Container className={`mt-3 ${appStyles.Content}`}>\r\n          <Link className={styles.Link} to=\"/signin\">\r\n            Already have an account? <span>Sign in</span>\r\n          </Link>\r\n        </Container>\r\n      </Col>\r\n      <Col\r\n        md={6}\r\n        className={`my-auto d-none d-md-block p-2 ${styles.SignUpCol}`}\r\n      >\r\n        <Image\r\n          className={`${appStyles.FillerImage} ${styles.SignUpImage}`}\r\n          src={\r\n            \"https://res.cloudinary.com/dnepttq4h/image/upload/v1743515891/signup-image_s3gcd9.jpg\"\r\n          }\r\n        />\r\n      </Col>\r\n    </Row>\r\n  );\r\n};\r\n\r\nexport default SignUpForm;\r\n","import React, { useState } from \"react\";\r\n\r\nimport Form from \"react-bootstrap/Form\";\r\nimport Alert from \"react-bootstrap/Alert\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Image from \"react-bootstrap/Image\";\r\nimport Container from \"react-bootstrap/Container\";\r\n\r\nimport { Link, useHistory } from \"react-router-dom\";\r\n\r\nimport styles from \"../../styles/SignInUpForm.module.css\";\r\nimport btnStyles from \"../../styles/Button.module.css\";\r\nimport appStyles from \"../../App.module.css\";\r\nimport axios from \"axios\";\r\nimport { useSetCurrentUser } from \"../../contexts/CurrentUserContext\";\r\n\r\nfunction SignInForm() {\r\n  const setCurrentUser = useSetCurrentUser();\r\n\r\n  const [signInData, setSignInData] = useState({\r\n    username: \"\",\r\n    password: \"\",\r\n  });\r\n\r\n  const { username, password } = signInData;\r\n\r\n  const [errors, setErrors] = useState({});\r\n\r\n  const history = useHistory();\r\n\r\n  const handleChange = (event) => {\r\n    setSignInData({\r\n      ...signInData,\r\n      [event.target.name]: event.target.value,\r\n    });\r\n  };\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    try {\r\n      const { data } = await axios.post(\"dj-rest-auth/login/\", signInData);\r\n      setCurrentUser(data.user);\r\n      history.push(\"/\");\r\n    } catch (err) {\r\n      setErrors(err.response?.data);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Row className={styles.Row}>\r\n      <Col className=\"my-auto p-0 p-md-2\" md={6}>\r\n        <Container className={`${appStyles.Content} p-4 `}>\r\n          <h1 className={styles.Header}>sign in</h1>\r\n\r\n          <Form onSubmit={handleSubmit}>\r\n            <Form.Group controlId=\"username\">\r\n              <Form.Label className=\"d-none\">Username</Form.Label>\r\n              <Form.Control\r\n                type=\"text\"\r\n                placeholder=\"Username\"\r\n                name=\"username\"\r\n                value={username}\r\n                className={styles.Input}\r\n                onChange={handleChange}\r\n              />\r\n            </Form.Group>\r\n            {errors?.username?.map((message, idx) => (\r\n              <Alert variant=\"warning\" key={idx}>\r\n                {message}\r\n              </Alert>\r\n            ))}\r\n\r\n            <Form.Group controlId=\"password\">\r\n              <Form.Label className=\"d-none\">Password</Form.Label>\r\n              <Form.Control\r\n                type=\"password\"\r\n                placeholder=\"Password\"\r\n                name=\"password\"\r\n                value={password}\r\n                className={styles.Input}\r\n                onChange={handleChange}\r\n              />\r\n            </Form.Group>\r\n            {errors?.password?.map((message, idx) => (\r\n              <Alert variant=\"warning\" key={idx}>\r\n                {message}\r\n              </Alert>\r\n            ))}\r\n\r\n            <Button\r\n              className={`${btnStyles.Button} ${btnStyles.Wide} ${btnStyles.Bright}`}\r\n              type=\"submit\"\r\n            >\r\n              Sign in\r\n            </Button>\r\n            {errors.non_field_errors?.map((message, idx) => (\r\n              <Alert variant=\"warning\" key={idx} className=\"mt-3\">\r\n                {message}\r\n              </Alert>\r\n            ))}\r\n          </Form>\r\n        </Container>\r\n        <Container className={`mt-3 ${appStyles.Content}`}>\r\n          <Link className={styles.Link} to=\"/signup\">\r\n            Don't have an account? <span>Sign up now!</span>\r\n          </Link>\r\n        </Container>\r\n      </Col>\r\n      <Col\r\n        md={6}\r\n        className={`my-auto d-none d-md-block p-2 ${styles.SignInCol}`}\r\n      >\r\n        <Image\r\n          className={`${appStyles.FillerImage} ${styles.SignInImage}`}\r\n          src={\r\n            \"https://res.cloudinary.com/dnepttq4h/image/upload/v1743524002/signin-image_shgm8m.jpg\"\r\n          }\r\n        />\r\n      </Col>\r\n    </Row>\r\n  );\r\n}\r\n\r\nexport default SignInForm;\r\n","import React from \"react\";\r\nimport { Spinner } from \"react-bootstrap\";\r\nimport styles from \"../styles/Asset.module.css\";\r\n\r\nconst Asset = ({ spinner, src, icon, message }) => {\r\n  return (\r\n    <div className={`${styles.Asset} p-4`}>\r\n      {spinner && (\r\n        <Spinner animation=\"border\" role=\"status\">\r\n          <span className=\"sr-only\">Loading...</span>\r\n        </Spinner>\r\n      )}\r\n      {src && <img src={src} alt={message} />}\r\n      {icon && <span alt={message} className={styles.Icon}>{icon}</span>}\r\n      {message && <p className=\"mt-4\">{message}</p>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Asset;\r\n","import React, { useRef, useState } from \"react\";\r\n\r\nimport Form from \"react-bootstrap/Form\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Container from \"react-bootstrap/Container\";\r\n\r\nimport styles from \"../../styles/PostCreateEditForm.module.css\";\r\nimport appStyles from \"../../App.module.css\";\r\nimport btnStyles from \"../../styles/Button.module.css\";\r\nimport Asset from \"../../components/Asset\";\r\nimport { Alert, Image } from \"react-bootstrap\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { axiosReq } from \"../../api/axiosDefaults\";\r\n\r\nconst Upload = <i className=\"fa-solid fa-cloud-arrow-up\"></i>;\r\n\r\nfunction PostCreateForm() {\r\n  const [errors, setErrors] = useState({});\r\n\r\n  const [postData, setPostData] = useState({\r\n    title: \"\",\r\n    content: \"\",\r\n    image: \"\",\r\n    tags: \"\",\r\n    listing_type: 3,\r\n  });\r\n\r\n  const { title, content, image, tags, listing_type } = postData;\r\n\r\n  const imageInput = useRef(null);\r\n  const history = useHistory();\r\n\r\n  const handleChange = (event) => {\r\n    setPostData({\r\n      ...postData,\r\n      [event.target.name]: event.target.value,\r\n    });\r\n  };\r\n\r\n  const handleChangeImage = (event) => {\r\n    if (event.target.files.length) {\r\n      URL.revokeObjectURL(image);\r\n      setPostData({\r\n        ...postData,\r\n        image: URL.createObjectURL(event.target.files[0]),\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n\r\n    if (imageInput.current.files.length < 1) {\r\n      handlePostSubmit();\r\n    } else {\r\n      const mediaData = new FormData();\r\n      mediaData.append(\"image\", imageInput.current.files[0]);\r\n\r\n      try {\r\n        const { data } = await axiosReq.post(\"/medias/\", mediaData);\r\n        console.log(data);\r\n        handlePostSubmit(data.id);\r\n      } catch (err) {\r\n        console.log(err);\r\n        if (err.response?.status !== 401) {\r\n          setErrors(err.response?.data);\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  const handlePostSubmit = async (medias) => {\r\n    const formData = new FormData();\r\n\r\n    formData.append(\"title\", title);\r\n    formData.append(\"content\", content);\r\n    if (medias) formData.append(\"media\", medias);\r\n    if (tags) formData.append(\"tags\", tags);\r\n    formData.append(\"listing_type\", listing_type);\r\n\r\n    try {\r\n      const { data } = await axiosReq.post(\"/posts/\", formData);\r\n      console.log(data);\r\n      history.push(`/posts/${data.id}`);\r\n    } catch (err) {\r\n      console.log(err);\r\n      if (err.response?.status !== 401) {\r\n        setErrors(err.response?.data);\r\n      }\r\n    }\r\n  };\r\n\r\n  const textFields = (\r\n    <div className=\"text-center\">\r\n      <Form.Group controlId=\"title\">\r\n        <Form.Label>Title</Form.Label>\r\n        <Form.Control\r\n          type=\"text\"\r\n          name=\"title\"\r\n          value={title}\r\n          onChange={handleChange}\r\n          placeholder=\"Title goes here\"\r\n        />\r\n      </Form.Group>\r\n      {errors?.title?.map((message, idx) => (\r\n        <Alert variant=\"warning\" key={idx}>\r\n          {message}\r\n        </Alert>\r\n      ))}\r\n      <Form.Group controlId=\"Content\">\r\n        <Form.Label>Content</Form.Label>\r\n        <Form.Control\r\n          as=\"textarea\"\r\n          name=\"content\"\r\n          rows={6}\r\n          value={content}\r\n          onChange={handleChange}\r\n          placeholder=\"Post content here\"\r\n        />\r\n      </Form.Group>\r\n      {errors?.content?.map((message, idx) => (\r\n        <Alert variant=\"warning\" key={idx}>\r\n          {message}\r\n        </Alert>\r\n      ))}\r\n      <Form.Group as={Row} controlId=\"tags\">\r\n        <Form.Label column sm={2}>\r\n          Tags\r\n        </Form.Label>\r\n        <Col sm={10}>\r\n          <Form.Control\r\n            type=\"text\"\r\n            name=\"tags\"\r\n            value={tags}\r\n            onChange={handleChange}\r\n            placeholder=\"separate tags with spaces\"\r\n          />\r\n        </Col>\r\n      </Form.Group>\r\n      {errors?.tags?.map((message, idx) => (\r\n        <Alert variant=\"warning\" key={idx}>\r\n          {message}\r\n        </Alert>\r\n      ))}\r\n      <Form.Group as={Row} controlId=\"listing_type\">\r\n        <Form.Label column sm={5}>\r\n          Listing Type\r\n        </Form.Label>\r\n        <Col sm={7}>\r\n          <Form.Control\r\n            as=\"select\"\r\n            defaultValue={3}\r\n            name=\"listing_type\"\r\n            value={listing_type}\r\n            onChange={handleChange}\r\n          >\r\n            <option value={0}>Draft</option>\r\n            <option value={1}>Private</option>\r\n            <option value={2}>Unlisted</option>\r\n            <option value={3}>Public</option>\r\n          </Form.Control>\r\n        </Col>\r\n      </Form.Group>\r\n      {errors?.listing_type?.map((message, idx) => (\r\n        <Alert variant=\"warning\" key={idx}>\r\n          {message}\r\n        </Alert>\r\n      ))}\r\n\r\n      <Button\r\n        className={`${btnStyles.Button} ${btnStyles.Blue}`}\r\n        onClick={() => history.goBack()}\r\n      >\r\n        cancel\r\n      </Button>\r\n      <Button className={`${btnStyles.Button} ${btnStyles.Blue}`} type=\"submit\">\r\n        create\r\n      </Button>\r\n      {errors?.non_field_errors?.map((message, idx) => (\r\n        <Alert variant=\"warning\" key={idx} className=\"mt-3\">\r\n          {message}\r\n        </Alert>\r\n      ))}\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <Form onSubmit={handleSubmit}>\r\n      <Row>\r\n        <Col className=\"py-2 p-0 p-md-2\" md={7} lg={8}>\r\n          <Container\r\n            className={`${appStyles.Content} ${styles.Container} d-flex flex-column justify-content-center`}\r\n          >\r\n            <Form.Group className=\"text-center\">\r\n              {image ? (\r\n                <>\r\n                  <figure>\r\n                    <Image className={appStyles.Image} src={image} rounded />\r\n                    <video className={appStyles.Image} src={image} controls />\r\n                  </figure>\r\n                  <div>\r\n                    <Form.Label\r\n                      className={`${btnStyles.Button} ${btnStyles.Blue} btn btn-primary`}\r\n                      htmlFor=\"image-upload\"\r\n                    >\r\n                      Change the image\r\n                    </Form.Label>\r\n                  </div>\r\n                </>\r\n              ) : (\r\n                <Form.Label\r\n                  className=\"d-flex justify-content-center\"\r\n                  htmlFor=\"image-upload\"\r\n                >\r\n                  <Asset\r\n                    icon={Upload}\r\n                    message=\"Click or tap to upload an image\"\r\n                  />\r\n                </Form.Label>\r\n              )}\r\n\r\n              <Form.File\r\n                id=\"image-upload\"\r\n                accept=\"image/*\"\r\n                onChange={handleChangeImage}\r\n                ref={imageInput}\r\n              />\r\n            </Form.Group>\r\n            <div className=\"d-md-none\">{textFields}</div>\r\n          </Container>\r\n        </Col>\r\n        <Col md={5} lg={4} className=\"d-none d-md-block p-0 p-md-2\">\r\n          <Container className={appStyles.Content}>{textFields}</Container>\r\n        </Col>\r\n      </Row>\r\n    </Form>\r\n  );\r\n}\r\n\r\nexport default PostCreateForm;\r\n","import React from \"react\";\r\nimport styles from \"../styles/PopularReactions.module.css\";\r\n\r\n// Helper function to map reaction types to FontAwesome icons\r\n// This function takes a reaction type (number) and returns the\r\n// corresponding FontAwesome icon class name\r\nconst reactionToIcon = (reaction) => {\r\n  switch (reaction) {\r\n    case 0:\r\n      return \"fa-thumbs-up\"; // Like\r\n    case 1:\r\n      return \"fa-heart\"; // Love\r\n    case 2:\r\n      return \"fa-face-grin-tears\"; // Funny\r\n    case 3:\r\n      return \"fa-face-grin-stars\"; // Amazing\r\n    case 4:\r\n      return \"fa-hand-holding-heart\"; // Care\r\n    case 5:\r\n      return \"fa-face-sad-tear\"; // Sad\r\n    case 6:\r\n      return \"fa-thumbs-down\"; // Dislike\r\n    case 7:\r\n      return \"fa-face-angry\"; // Angry\r\n    default:\r\n      return null;\r\n  }\r\n};\r\n\r\nconst concatReactionStyles = (index) => {\r\n  switch (index) {\r\n    case 0:\r\n      return styles.PopularReactions1;\r\n    case 1:\r\n      return styles.PopularReactions2;\r\n    case 2:\r\n      return styles.PopularReactions3;\r\n    default:\r\n      return styles.PopularReactions;\r\n  }\r\n};\r\n\r\n// PopularReactions component\r\n// This component displays the popular reactions for a post\r\nconst PopularReactions = ({ popular_reactions = [], count = 0 }) => {\r\n  return (\r\n    <>\r\n      <div className=\"d-flex align-items-center justify-content-center\">\r\n        {popular_reactions.map(({ reaction }, index) => {\r\n          // Only show the first three reactions\r\n          const icon = index < 3 ? reactionToIcon(reaction) : null;\r\n\r\n          // Only render the icon if it exists\r\n          return icon ? (\r\n            <span\r\n              key={`emoji_${index}`}\r\n              className={concatReactionStyles(index)}\r\n            >\r\n              <i className={`fa-solid ${icon}`} />\r\n            </span>\r\n          ) : null;\r\n        })}\r\n        {count === 0 && (\r\n          <span key={`emoji_0`} className={concatReactionStyles(0)}>\r\n            <i className={`fa-regular fa-thumbs-up`} />\r\n          </span>\r\n        )}\r\n      </div>\r\n      <span>{count}</span>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default PopularReactions;\r\n","import React from \"react\";\r\nimport styles from \"../../styles/Post.module.css\";\r\nimport { useCurrentUser } from \"../../contexts/CurrentUserContext\";\r\nimport {\r\n  Card,\r\n  Col,\r\n  Media,\r\n  OverlayTrigger,\r\n  Row,\r\n  Tooltip,\r\n} from \"react-bootstrap\";\r\nimport { Link } from \"react-router-dom/cjs/react-router-dom\";\r\nimport Avatar from \"../../components/Avatar\";\r\nimport PopularReactions from \"../../components/PopularReactions\";\r\nimport { axiosRes } from \"../../api/axiosDefaults\";\r\n\r\nconst Post = (props) => {\r\n  const {\r\n    content_type,\r\n    id,\r\n    owner,\r\n    profile_id,\r\n    profile_image,\r\n    title,\r\n    body,\r\n    // media,\r\n    // listing_type,\r\n    // original_post,\r\n    // created_at,\r\n    updated_at,\r\n    reaction_id,\r\n    reaction_type_id,\r\n    // reaction_type,\r\n    reactions_count,\r\n    comments_count,\r\n    popular_reactions,\r\n    // tags,\r\n    // tagged_interest,\r\n    postPage,\r\n    setPosts,\r\n  } = props;\r\n\r\n  const currentUser = useCurrentUser();\r\n  const is_owner = currentUser?.username === owner;\r\n\r\n  const handleReaction = async () => {\r\n    try {\r\n      const { data } = await axiosRes.post(\"/reactions/\", {\r\n        content_type: content_type,\r\n        object_id: id,\r\n        reaction: 0,\r\n      });\r\n      setPosts((prevPosts) => ({\r\n        ...prevPosts,\r\n        results: prevPosts.results.map((post) => {\r\n          return post.id === id\r\n            ? {\r\n                ...post,\r\n                reactions_count: post.reactions_count + 1,\r\n                reaction_id: data.id,\r\n                reaction_type_id: data.reaction,\r\n\r\n                popular_reactions: post.popular_reactions.map(\r\n                  (item, index) => {\r\n                    return item.reaction === reaction_type_id &&\r\n                      reaction_type_id !== null &&\r\n                      item.count > 0\r\n                      ? {\r\n                          count: item.count + 1,\r\n                        }\r\n                      : index === post.popular_reactions.length - 1\r\n                      ? (popular_reactions[popular_reactions.length] = {\r\n                          reaction: data.reaction,\r\n                          count: 1,\r\n                        })\r\n                      : item;\r\n                  },\r\n                  post.popular_reactions.length\r\n                    ? null\r\n                    : (popular_reactions[post.popular_reactions.length] = {})\r\n                ),\r\n              }\r\n            : post;\r\n        }),\r\n      }));\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  const handleNoReaction = async () => {\r\n    try {\r\n      await axiosRes.delete(`/reactions/${reaction_id}/`);\r\n      setPosts((prevPosts) => ({\r\n        ...prevPosts,\r\n        results: prevPosts.results.map((post) => {\r\n          return post.id === id\r\n            ? {\r\n                ...post,\r\n                reactions_count: post.reactions_count - 1,\r\n                reaction_id: null,\r\n                reaction_type_id: null,\r\n\r\n                popular_reactions: post.popular_reactions.map((item, index) => {\r\n                  return item.reaction === reaction_type_id && item.count > 1\r\n                    ? {\r\n                        count: item.count - 1,\r\n                      }\r\n                    : item.reaction === reaction_type_id && item.count === 1\r\n                    ? post.popular_reactions.pop(index)\r\n                    : item;\r\n                }),\r\n              }\r\n            : post;\r\n        }),\r\n      }));\r\n    } catch (err) {}\r\n  };\r\n\r\n  return (\r\n    <Card className={styles.Post}>\r\n      <Card.Body>\r\n        <Media className=\"align-item-center justify-content-between\">\r\n          <Link to={`/profiles/${profile_id}`}>\r\n            <Avatar src={profile_image} height={55} />\r\n            {owner}\r\n          </Link>\r\n          <div className=\"d-flex align-items-center\">\r\n            <span>{updated_at}</span>\r\n            {is_owner && postPage && \"...\"}\r\n          </div>\r\n        </Media>\r\n      </Card.Body>\r\n      <Link to={`/posts/${id}`}>\r\n        media\r\n        {/* <Card.Img src={media} alt={title} /> */}\r\n      </Link>\r\n      <Card.Body>\r\n        <Row className=\"justify-content-between\">\r\n          <Col xs={2}>\r\n            <PopularReactions\r\n              popular_reactions={popular_reactions}\r\n              count={reactions_count}\r\n            />\r\n          </Col>\r\n          <Col xs={8}>\r\n            {title && <Card.Title className=\"text-center\">{title}</Card.Title>}\r\n          </Col>\r\n          <Col xs={2}>\r\n            <Link to={`/posts/${id}`}>\r\n              <i className=\"far fa-comment\" />\r\n            </Link>\r\n            <div>{comments_count}</div>\r\n          </Col>\r\n        </Row>\r\n\r\n        {body && <Card.Text>{body}</Card.Text>}\r\n        <div className={styles.PostBar}>\r\n          {is_owner ? (\r\n            <OverlayTrigger\r\n              placement=\"top\"\r\n              overlay={<Tooltip>You cannot react to your own Post!</Tooltip>}\r\n            >\r\n              <i className=\"fa-regular fa-thumbs-up\"></i>\r\n            </OverlayTrigger>\r\n          ) : reaction_id ? (\r\n            <span onClick={handleNoReaction}>\r\n              <i className={`fa-solid fa-thumbs-up ${styles.Reaction}`} />\r\n            </span>\r\n          ) : currentUser ? (\r\n            <span onClick={handleReaction}>\r\n              <i\r\n                className={`fa-regular fa-thumbs-up ${styles.ReactionOutline}`}\r\n              />\r\n            </span>\r\n          ) : (\r\n            // <Dropdown as={ButtonGroup}>\r\n            //   <Dropdown.Toggle variant=\"success\" id=\"dropdown-split-basic\">\r\n            //     <i\r\n            //       className={`fa-regular fa-thumbs-up ${styles.ReactionOutline}`}\r\n            //     />\r\n            //   </Dropdown.Toggle>\r\n\r\n            //   <Dropdown.Menu>\r\n            //     <Dropdown.Item href=\"#/action-1\">Action</Dropdown.Item>\r\n            //     <Dropdown.Item href=\"#/action-2\">Another action</Dropdown.Item>\r\n            //     <Dropdown.Item href=\"#/action-3\">Something else</Dropdown.Item>\r\n            //   </Dropdown.Menu>\r\n            // </Dropdown>\r\n            <OverlayTrigger\r\n              placement=\"top\"\r\n              overlay={<Tooltip>You need to login to react!</Tooltip>}\r\n            >\r\n              <i\r\n                className={`fa-regular fa-thumbs-up ${styles.ReactionOutline}`}\r\n              />\r\n            </OverlayTrigger>\r\n          )}\r\n          <Link to={`/posts/${id}`}>\r\n            <i className=\"far fa-comment\" />\r\n          </Link>\r\n        </div>\r\n      </Card.Body>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default Post;\r\n","import React, { useEffect, useState } from \"react\";\r\n\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Container from \"react-bootstrap/Container\";\r\n\r\nimport appStyles from \"../../App.module.css\";\r\nimport { useParams } from \"react-router-dom/cjs/react-router-dom.min\";\r\nimport { axiosReq } from \"../../api/axiosDefaults\";\r\nimport Post from \"./Post\";\r\n\r\nfunction PostPage() {\r\n  const { id } = useParams();\r\n  const [post, setPost] = useState({ results: [] });\r\n\r\n  useEffect(() => {\r\n    const handleMount = async () => {\r\n      try {\r\n        const [{ data: post }] = await Promise.all([\r\n          axiosReq.get(`/posts/${id}/`),\r\n        ]);\r\n        setPost({ results: [post] });\r\n        console.log(post);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    }\r\n    handleMount();\r\n  }, [id]);\r\n\r\n  return (\r\n    <Row className=\"h-100\">\r\n      <Col className=\"py-2 p-0 p-lg-2\" lg={8}>\r\n        <p>Popular profiles for mobile</p>\r\n        <Post {...post.results[0]} setPosts={setPost} postPage/>\r\n        <Container className={appStyles.Content}>Comments</Container>\r\n      </Col>\r\n      <Col lg={4} className=\"d-none d-lg-block p-0 p-lg-2\">\r\n        Popular profiles for desktop\r\n      </Col>\r\n    </Row>\r\n  );\r\n}\r\n\r\nexport default PostPage;\r\n","import { axiosReq } from \"../api/axiosDefaults\";\r\n\r\nexport const fetchMoreData = async (resource, setResource) => {\r\n  try {\r\n    const { data } = await axiosReq.get(resource.next);\r\n    setResource((prevResource) => ({\r\n      ...prevResource,\r\n      next: data.next,\r\n      results: data.results.reduce((acc, cur) => {\r\n        return acc.some((accResult) => accResult.id === cur.id)\r\n          ? acc\r\n          : [...acc, cur];\r\n      }, prevResource.results),\r\n    }));\r\n  } catch (err) {\r\n    console.error(err);\r\n  }\r\n};\r\n","import React, { useEffect, useState } from \"react\";\r\n\r\nimport Form from \"react-bootstrap/Form\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Container from \"react-bootstrap/Container\";\r\nimport InfiniteScroll from \"react-infinite-scroll-component\";\r\n\r\nimport appStyles from \"../../App.module.css\";\r\nimport styles from \"../../styles/PostsPage.module.css\";\r\nimport { useLocation } from \"react-router-dom/cjs/react-router-dom.min\";\r\nimport { axiosReq } from \"../../api/axiosDefaults\";\r\nimport Post from \"./Post\";\r\nimport Asset from \"../../components/Asset\";\r\nimport { fetchMoreData } from \"../../utils/utils\";\r\n\r\nconst NoResults = <i className=\"fa-solid fa-ghost\"></i>;\r\n\r\nfunction PostsPage({ message, filter = \"\" }) {\r\n  const [posts, setPosts] = useState({ results: [] });\r\n  const [hasLoaded, setHasLoaded] = useState(false);\r\n  const { pathname } = useLocation();\r\n\r\n  const [query, setQuery] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    const fetchPosts = async () => {\r\n      try {\r\n        const { data } = await axiosReq.get(`/posts/?${filter}search=${query}`);\r\n        setPosts(data);\r\n        setHasLoaded(true);\r\n      } catch (err) {\r\n        console.error(err);\r\n      }\r\n    };\r\n\r\n    setHasLoaded(false);\r\n    const timer = setTimeout(() => {\r\n      fetchPosts();\r\n    }, 1000); // 1 second delay\r\n    return () => {\r\n      clearTimeout(timer);\r\n    };\r\n  }, [filter, pathname, query]);\r\n\r\n  return (\r\n    <Row className=\"h-100\">\r\n      <Col className=\"py-2 p-0 p-lg-2\" lg={8}>\r\n        <p>Popular profiles mobile</p>\r\n        <i className={`fas fa-search ${styles.SearchIcon}`} />\r\n        <Form className={styles.SearchBar} onSubmit={(e) => e.preventDefault()}>\r\n          <Form.Control\r\n            value={query}\r\n            onChange={(e) => setQuery(e.target.value)}\r\n            type=\"text\"\r\n            className=\"mr-sm-2\"\r\n            placeholder=\"Search posts\"\r\n          />\r\n        </Form>\r\n        {hasLoaded ? (\r\n          <>\r\n            {posts.results.length ? (\r\n              <InfiniteScroll\r\n                children={posts.results.map((post) => (\r\n                  <Post key={post.id} {...post} setPosts={setPosts} />\r\n                ))}\r\n                dataLength={posts.results.length}\r\n                loader={<Asset spinner />}\r\n                hasMore={!!posts.next}\r\n                next={() => fetchMoreData(posts, setPosts)}\r\n              />\r\n            ) : (\r\n              <Container className={appStyles.Content}>\r\n                <Asset icon={NoResults} message={message} />\r\n              </Container>\r\n            )}\r\n          </>\r\n        ) : (\r\n          <Container className={appStyles.Content}>\r\n            <Asset spinner />\r\n          </Container>\r\n        )}\r\n      </Col>\r\n      <Col md={4} className=\"d-none d-lg-block p-0 p-lg-2\">\r\n        <p>Popular profiles for desktop</p>\r\n      </Col>\r\n    </Row>\r\n  );\r\n}\r\n\r\nexport default PostsPage;\r\n","import { Route, Switch } from \"react-router-dom/cjs/react-router-dom.min\";\nimport styles from \"./App.module.css\";\nimport NavBar from \"./components/NavBar\";\nimport Container from \"react-bootstrap/Container\";\nimport React from \"react\";\nimport \"./api/axiosDefaults\";\nimport SignUpForm from \"./pages/auth/SignUpForm\";\nimport SignInForm from \"./pages/auth/SignInForm\";\nimport PostCreateForm from \"./pages/posts/PostCreateForm\";\nimport PostPage from \"./pages/posts/PostPage\";\nimport PostsPage from \"./pages/posts/PostsPage\";\nimport { useCurrentUser } from \"./contexts/CurrentUserContext\";\n\nfunction App() {\n  const currentUser = useCurrentUser();\n  const profile_id = currentUser?.profile_id || \"\";\n\n  return (\n    <div className={styles.App}>\n      <NavBar />\n      <Container className={styles.Main}>\n        <Switch>\n          <Route\n            exact\n            path=\"/\"\n            render={() => {\n              return (\n                <div>\n                  <h1>Welcome to Off I Go!</h1>\n                  <p>\n                    Lorem ipsum dolor sit amet, consectetur adipiscing elit.\n                    Aenean ut libero eleifend, laoreet lacus et, ultrices ante.\n                    Fusce nibh ante, fermentum non magna et, pulvinar sagittis\n                    lacus. Nullam laoreet, urna eu tincidunt eleifend, est nisl\n                    vulputate ex, nec tempor dui libero non massa. Praesent\n                    congue lectus vel fringilla bibendum. Cras scelerisque\n                    aliquam elit vel placerat. Mauris mollis eget erat efficitur\n                    eleifend. Curabitur in condimentum neque. Donec ac felis\n                    libero. Nulla augue nulla, facilisis ac lorem et, tristique\n                    suscipit sem. Nam et dolor maximus, condimentum ex non,\n                    auctor libero. Phasellus id imperdiet est, at iaculis felis.\n                    Curabitur vel ex id mi porttitor imperdiet. Curabitur mattis\n                    ante ac orci venenatis, et molestie nulla sagittis. Cras\n                    fringilla felis eget neque euismod blandit. Sed ac sapien\n                    non risus ornare lacinia bibendum eu leo. Vestibulum quis\n                    feugiat mauris. Phasellus at est a risus ornare\n                    sollicitudin. Nullam porttitor, eros ac finibus condimentum,\n                    odio arcu luctus mauris, tempor vulputate neque leo vel\n                    augue. Nunc commodo faucibus vestibulum. Nam pretium mattis\n                    lacus vitae sollicitudin. Pellentesque vitae dui vel urna\n                    varius tristique. Nunc consequat nec tellus et pellentesque.\n                    Duis id nisi ut risus lobortis interdum. Nam eget nunc eget\n                    ex luctus ullamcorper. Donec sodales mauris ut nisi tempus\n                    ullamcorper. Nam tincidunt, sapien et mollis auctor, massa\n                    enim posuere libero, quis rutrum metus sapien eget quam. Ut\n                    lectus elit, dignissim a venenatis vitae, sodales vitae\n                    lorem. Proin ultrices facilisis urna, et ultrices arcu\n                    pharetra vitae. Donec tincidunt quam ex, vitae congue tellus\n                    luctus id. Nunc at sapien nec enim egestas tempus. Donec\n                    lacinia metus nec dolor blandit, gravida feugiat sem\n                    aliquet. Integer lacinia eget diam non consectetur. Quisque\n                    in augue vitae turpis sodales fringilla. Pellentesque vel\n                    volutpat libero, ut lacinia nunc. Praesent vel tincidunt\n                    velit. Sed mollis nisl non velit dictum iaculis. Ut\n                    vestibulum ipsum erat, in feugiat lacus ultricies vel. Donec\n                    dapibus hendrerit metus eu lobortis. Donec fermentum\n                    imperdiet nulla, et lacinia velit laoreet quis. Sed ac\n                    tempus quam. Phasellus dictum felis eget nibh egestas\n                    ornare. Morbi id posuere velit. Nullam ac consectetur\n                    sapien. Nam condimentum ex iaculis hendrerit rutrum. Donec\n                    faucibus risus neque, eget egestas orci blandit eget.\n                    Curabitur consequat congue sem, id suscipit eros viverra\n                    non. Morbi eu lectus dolor. Ut luctus nisi leo, nec\n                    efficitur justo luctus nec. Cras rhoncus tempor nunc ut\n                    imperdiet. Donec eu tempus velit. Maecenas dictum dui id dui\n                    sodales, at eleifend est accumsan. Integer sed hendrerit\n                    enim.\n                  </p>\n                  <p>\n                    Lorem ipsum dolor sit amet, consectetur adipiscing elit.\n                    Aenean ut libero eleifend, laoreet lacus et, ultrices ante.\n                    Fusce nibh ante, fermentum non magna et, pulvinar sagittis\n                    lacus. Nullam laoreet, urna eu tincidunt eleifend, est nisl\n                    vulputate ex, nec tempor dui libero non massa. Praesent\n                    congue lectus vel fringilla bibendum. Cras scelerisque\n                    aliquam elit vel placerat. Mauris mollis eget erat efficitur\n                    eleifend. Curabitur in condimentum neque. Donec ac felis\n                    libero. Nulla augue nulla, facilisis ac lorem et, tristique\n                    suscipit sem. Nam et dolor maximus, condimentum ex non,\n                    auctor libero. Phasellus id imperdiet est, at iaculis felis.\n                    Curabitur vel ex id mi porttitor imperdiet. Curabitur mattis\n                    ante ac orci venenatis, et molestie nulla sagittis. Cras\n                    fringilla felis eget neque euismod blandit. Sed ac sapien\n                    non risus ornare lacinia bibendum eu leo. Vestibulum quis\n                    feugiat mauris. Phasellus at est a risus ornare\n                    sollicitudin. Nullam porttitor, eros ac finibus condimentum,\n                    odio arcu luctus mauris, tempor vulputate neque leo vel\n                    augue. Nunc commodo faucibus vestibulum. Nam pretium mattis\n                    lacus vitae sollicitudin. Pellentesque vitae dui vel urna\n                    varius tristique. Nunc consequat nec tellus et pellentesque.\n                    Duis id nisi ut risus lobortis interdum. Nam eget nunc eget\n                    ex luctus ullamcorper. Donec sodales mauris ut nisi tempus\n                    ullamcorper. Nam tincidunt, sapien et mollis auctor, massa\n                    enim posuere libero, quis rutrum metus sapien eget quam. Ut\n                    lectus elit, dignissim a venenatis vitae, sodales vitae\n                    lorem. Proin ultrices facilisis urna, et ultrices arcu\n                    pharetra vitae. Donec tincidunt quam ex, vitae congue tellus\n                    luctus id. Nunc at sapien nec enim egestas tempus. Donec\n                    lacinia metus nec dolor blandit, gravida feugiat sem\n                    aliquet. Integer lacinia eget diam non consectetur. Quisque\n                    in augue vitae turpis sodales fringilla. Pellentesque vel\n                    volutpat libero, ut lacinia nunc. Praesent vel tincidunt\n                    velit. Sed mollis nisl non velit dictum iaculis. Ut\n                    vestibulum ipsum erat, in feugiat lacus ultricies vel. Donec\n                    dapibus hendrerit metus eu lobortis. Donec fermentum\n                    imperdiet nulla, et lacinia velit laoreet quis. Sed ac\n                    tempus quam. Phasellus dictum felis eget nibh egestas\n                    ornare. Morbi id posuere velit. Nullam ac consectetur\n                    sapien. Nam condimentum ex iaculis hendrerit rutrum. Donec\n                    faucibus risus neque, eget egestas orci blandit eget.\n                    Curabitur consequat congue sem, id suscipit eros viverra\n                    non. Morbi eu lectus dolor. Ut luctus nisi leo, nec\n                    efficitur justo luctus nec. Cras rhoncus tempor nunc ut\n                    imperdiet. Donec eu tempus velit. Maecenas dictum dui id dui\n                    sodales, at eleifend est accumsan. Integer sed hendrerit\n                    enim.\n                  </p>\n                </div>\n              );\n            }}\n          />\n          <Route\n            exact\n            path=\"/discover\"\n            render={() => (\n              <PostsPage message=\"No results found. Adjust the search keyword.\" />\n            )}\n          />\n          <Route\n            exact\n            path=\"/feed\"\n            render={() => (\n              <PostsPage\n                message=\"No results found. Adjust the search keyword or follow a user.\"\n                filter={`owner__followed__owner__profile=${profile_id}&`}\n              />\n            )}\n          />\n          <Route\n            exact\n            path=\"/for-me\"\n            render={() => (\n              <PostsPage message=\"No results found. Adjust the search keyword or add tags to your interests.\" />\n            )}\n          />\n          <Route\n            exact\n            path=\"/near-me\"\n            render={() => (\n              <PostsPage\n                message=\"No results found. Adjust the search keyword or add a location to your profile.\"\n                filter=\"location__owner__profile\"\n              />\n            )}\n          />\n          <Route\n            exact\n            path=\"/profiles/:id/reactions\"\n            render={() => (\n              <PostsPage\n                message=\"No results found. Adjust the search keyword or react to a post.\"\n                filter={`likes__owner__profile=${profile_id}&ordering=-likes__created_at&`}\n              />\n            )}\n          />\n          <Route exact path=\"/signin\" render={() => <SignInForm />} />\n          <Route exact path=\"/signup\" render={() => <SignUpForm />} />\n          <Route exact path=\"/posts/create\" render={() => <PostCreateForm />} />\n          <Route exact path=\"/posts/:id\" render={() => <PostPage />} />\n          <Route render={() => <p>Page not found!</p>} />\n        </Switch>\n      </Container>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\nimport { BrowserRouter as Router } from \"react-router-dom\";\r\nimport { CurrentUserProvider } from \"./contexts/CurrentUserContext\";\r\nimport { DeviceSizeProvider } from \"./contexts/DeviceSizeContext\";\r\n\r\nReactDOM.render(\r\n  <Router>\r\n    <CurrentUserProvider>\r\n      <DeviceSizeProvider>\r\n        <App />\r\n      </DeviceSizeProvider>\r\n    </CurrentUserProvider>\r\n  </Router>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Row\":\"SignInUpForm_Row__3IPZH\",\"Input\":\"SignInUpForm_Input__yYoBY\",\"Header\":\"SignInUpForm_Header__8t2l7\",\"Link\":\"SignInUpForm_Link__39LI4\",\"Container\":\"SignInUpForm_Container__2x7XM\",\"SignInCol\":\"SignInUpForm_SignInCol__1TovZ\",\"SignInImage\":\"SignInUpForm_SignInImage__2JXXl\",\"SignUpImage\":\"SignInUpForm_SignUpImage__2U-z8\",\"SignUpCol\":\"SignInUpForm_SignUpCol__3ltuH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__1zB88\",\"Wide\":\"Button_Wide__-vUtb\",\"Blue\":\"Button_Blue__2biaU\",\"BlueOutline\":\"Button_BlueOutline__1fZIz\",\"Bright\":\"Button_Bright__3Bm34\",\"Black\":\"Button_Black__2WjjZ\",\"BlackOutline\":\"Button_BlackOutline__3lfEM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"BaseWidget\":\"BaseWidget_BaseWidget__18kJp\",\"MessageWidget\":\"BaseWidget_MessageWidget__2KFQh\",\"btn-DropNav\":\"BaseWidget_btn-DropNav__3Mul2\",\"dropup\":\"BaseWidget_dropup__1jCt2\",\"dropdown-toggle\":\"BaseWidget_dropdown-toggle__1O6-C\",\"widget-nav-bar\":\"BaseWidget_widget-nav-bar__3Zb1u\",\"NavBar\":\"BaseWidget_NavBar__2da29\",\"Toggle\":\"BaseWidget_Toggle__vX41E\",\"NavLink\":\"BaseWidget_NavLink__1YAl-\",\"Active\":\"BaseWidget_Active__1uhub\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Post\":\"Post_Post__21eNG\",\"Reaction\":\"Post_Reaction__3Ftls\",\"ReactionOutline\":\"Post_ReactionOutline__2uF2j\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"PopularReactions\":\"PopularReactions_PopularReactions__3Bwf2\",\"PopularReactions1\":\"PopularReactions_PopularReactions1__jqRGS\",\"PopularReactions2\":\"PopularReactions_PopularReactions2__1zdax\",\"PopularReactions3\":\"PopularReactions_PopularReactions3__3AiF9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Asset\":\"Asset_Asset__2P0YU\",\"Icon\":\"Asset_Icon__10XPt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SearchBar\":\"PostsPage_SearchBar__3bIV1\",\"SearchIcon\":\"PostsPage_SearchIcon__1Ot_0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Avatar\":\"Avatar_Avatar__3vp67\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"PostCreateEditForm_Container__359yl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"NavBar\":\"NavBar_NavBar__1kAIQ\",\"Brand\":\"NavBar_Brand__ftr3n\",\"NavLink\":\"NavBar_NavLink__363tL\",\"Toggle\":\"NavBar_Toggle__4Td4U\",\"Active\":\"NavBar_Active__2421Z\"};"],"sourceRoot":""}