{"version":3,"sources":["App.module.css","api/axiosDefaults.js","contexts/CurrentUserContext.js","contexts/DeviceSizeContext.js","components/Avatar.js","hooks/useClickOutsideToggle.js","components/BaseWidget.js","components/NavBar.js","hooks/useRedirect.js","pages/auth/SignUpForm.js","pages/auth/SignInForm.js","components/Asset.js","pages/posts/PostCreateForm.js","components/PopularReactions.js","components/MoreDropdown.js","components/ReactionDropdown.js","pages/posts/Post.js","pages/comments/CommentCreateForm.js","pages/comments/CommentEditForm.js","pages/comments/Comment.js","utils/utils.js","contexts/ProfileDataContext.js","pages/profiles/Profile.js","pages/profiles/PopularProfiles.js","pages/posts/PostPage.js","contexts/GeoPositionContext.js","pages/posts/PostsPage.js","pages/posts/PostEditForm.js","pages/profiles/ProfilePosts.js","pages/profiles/ProfilePage.js","pages/profiles/UsernameForm.js","pages/profiles/UserPasswordForm.js","pages/profiles/ProfileEditForm.js","App.js","reportWebVitals.js","index.js","styles/NavBar.module.css","styles/SignInUpForm.module.css","styles/BaseWidget.module.css","styles/Post.module.css","styles/CommentCreateEditForm.module.css","styles/PopularReactions.module.css","styles/PostCreateEditForm.module.css","styles/MoreDropdown.module.css","styles/Comment.module.css","styles/PostsPage.module.css","styles/Asset.module.css","styles/Avatar.module.css","styles/Button.module.css","styles/Profile.module.css","styles/ProfilePage.module.css"],"names":["module","exports","axios","defaults","baseURL","headers","post","withCredentials","axiosReq","create","axiosRes","CurrentUserContext","createContext","SetCurrentUserContext","useCurrentUser","useContext","useSetCurrentUser","CurrentUserProvider","_ref","children","currentUser","setCurrentUser","useState","history","useHistory","useEffect","async","data","get","err","console","log","handleMount","useMemo","interceptors","request","use","prevCurrentUser","push","config","Promise","reject","response","_err$response","status","_jsx","Provider","value","DeviceSizeContext","useDeviceSize","DeviceSizeProvider","deviceSize","setDeviceSize","handleResize","window","innerWidth","addEventListener","removeEventListener","Avatar","src","height","text","_jsxs","className","styles","width","alt","useClickOutsideToggle","expanded","setExpanded","ref","useRef","handleClickOutside","event","current","contains","target","document","BaseWidget","NavBarLinks","AddPostLink","device","_Fragment","MessageWidget","ButtonGroup","Container","Row","Col","Navbar","expand","NavBar","id","Collapse","NavMenu","Nav","Toggle","onClick","dropShadow","mobile","pathname","setPathname","location","addPostIcon","NavLink","activeClassName","Active","to","loggedInIcons","profile_id","profile_image","loggedOutIcons","exact","fixed","Brand","useRedirect","userAuthStatus","SignUpForm","_errors$username","_errors$password","_errors$password2","_errors$non_field_err","signUpData","setSignUpData","username","password1","password2","errors","setErrors","handleChange","name","md","appStyles","Content","Header","Form","onSubmit","preventDefault","Group","controlId","Label","Control","Input","type","placeholder","onChange","map","message","idx","Alert","variant","Button","btnStyles","Wide","Bright","non_field_errors","Link","SignUpCol","Image","FillerImage","SignUpImage","SignInForm","signInData","setSignInData","password","user","goBack","SignInCol","SignInImage","Asset","spinner","icon","Spinner","animation","role","Icon","Upload","PostCreateForm","_errors$title","_errors$content","_errors$latitude","_errors$longitude","_errors$tags","_errors$listing_type","postData","setPostData","title","content","media","tags","listing_type","latitude","longitude","imageInput","success","position","coords","error","handlePostSubmit","formData","FormData","append","medias","_err$response3","_err$response4","textFields","as","rows","navigator","geolocation","getCurrentPosition","Blue","column","sm","files","length","mediaData","_err$response2","lg","rounded","htmlFor","File","accept","URL","revokeObjectURL","createObjectURL","concatReactionStyles","index","PopularReactions1","PopularReactions2","PopularReactions3","PopularReactions","popular_reactions","count","_ref2","reaction","reactionToIcon","ThreeDots","React","forwardRef","e","MoreDropdown","handleEdit","handleDelete","Dropdown","drop","Menu","popperConfig","strategy","Item","DropdownItem","ProfileEditDropdown","_ref3","Absolute","reactionOptions","meaning","ThumbsUp","ReactionDropdown","handleReaction","reactionType","toLowerCase","ReactionIcon","_ref4","Reaction","Post","props","content_type","owner","body","updated_at","reaction_id","reaction_type_id","reactions_count","comments_count","postPage","setPosts","is_owner","setMediaData","media_id","media_type","image","video","mediaLoaded","setMediaLoaded","getMedia","Card","Body","Media","delete","controls","Img","xs","Title","Text","PostBar","OverlayTrigger","placement","overlay","Tooltip","prevPosts","results","item","pop","object_id","reactionDigit","ReactionOutline","href","rel","CommentCreateForm","setPost","setComments","profileImage","setbody","prevComments","prevPost","InputGroup","disabled","trim","CommentEditForm","setShowEditForm","formContent","setFormContent","put","comment","Comment","created_at","showEditForm","Owner","Date","Edited","filter","fetchMoreData","resource","setResource","next","prevResource","reduce","acc","cur","some","accResult","followHelper","profile","clickedProfile","following_id","followers_count","following_count","unfollowHelper","ProfileDataContext","SetProfileDataContext","useProfileData","useSetProfileData","ProfileDataProvider","profileData","setProfileData","pageProfile","popularProfiles","prevState","handleFollow","followed","handleUnfollow","Profile","imageSize","WordBreak","BlackOutline","Black","PopularProfiles","slice","NoResults","PostPage","useParams","hasLoaded","setHasLoaded","comments","all","InfiniteScroll","dataLength","loader","hasMore","GeoPositionContext","SetGeoPositionContext","GeoPositionProvider","geoPosition","setGeoPosition","home","radius","reach","latNorth","latSouth","lonEast","lonWest","isHome","handleGeoPosUpdate","Math","cos","handleGeoPosReset","handleRadiusUpdate","PostsPage","nearMe","posts","useLocation","setIsHome","query","setQuery","setRadius","timer","setTimeout","fetchPosts","clearTimeout","SearchIcon","SearchBar","RadiusBar","min","SqButton","active","PostEditForm","_errors$body","_imageInput$current3","_imageInput$current","undefined","_imageInput$current2","ProfilePosts","profilePosts","setProfilePosts","profileView","noun","toString","endsWith","ProfilePage","setProfileView","fetchData","mainProfile","noGutters","ProfileImage","roundedCircle","posts_count","profileViewSelector","justify","defaultActiveKey","eventKey","UsernameForm","setUsername","_currentUser$profile_","prevUser","UserPasswordForm","_errors$new_password","_errors$new_password2","userData","setUserData","new_password1","new_password2","ProfileEditForm","_errors$image","imageFile","_imageFile$current","_imageFile$current2","fluid","App","Main","Switch","Route","path","render","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","Router","getElementById"],"mappings":"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","file":"static/js/main.6b19e968.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__2i-O5\",\"Main\":\"App_Main__TAuIZ\",\"Content\":\"App_Content__ADkFS\",\"FillerImage\":\"App_FillerImage__CvFK4\",\"Image\":\"App_Image__23SDY\"};","// IMPORTANT!!\r\n// Because this React app is running in the same workspace as the API,\r\n\r\n// there is no need to set a separate baseURL until you reach deployment.\r\n\r\n// Setting a baseURL before you reach deployment will cause errors\r\nimport axios from \"axios\";\r\n\r\naxios.defaults.baseURL = \"/api\";\r\naxios.defaults.headers.post[\"Content-Type\"] = \"multipart/form-data\";\r\naxios.defaults.withCredentials = true;\r\n\r\nexport const axiosReq = axios.create();\r\nexport const axiosRes = axios.create();","import { useState, useEffect, createContext, useContext, useMemo } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { axiosReq, axiosRes } from \"../api/axiosDefaults\";\r\n\r\nexport const CurrentUserContext = createContext();\r\nexport const SetCurrentUserContext = createContext();\r\n\r\nexport const useCurrentUser = () => useContext(CurrentUserContext);\r\nexport const useSetCurrentUser = () => useContext(SetCurrentUserContext);\r\n\r\nexport const CurrentUserProvider = ({ children }) => {\r\n  const [currentUser, setCurrentUser] = useState(null);\r\n  const history = useHistory();\r\n\r\n  const handleMount = async () => {\r\n    try {\r\n      const { data } = await axiosRes.get(\"dj-rest-auth/user/\");\r\n      setCurrentUser(data);\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    handleMount();\r\n  }, []);\r\n\r\n  useMemo(() => {\r\n    axiosReq.interceptors.request.use(\r\n      async (config) => {\r\n        try {\r\n          await axios.post(\"/dj-rest-auth/token/refresh/\");\r\n        } catch (err) {\r\n          setCurrentUser((prevCurrentUser) => {\r\n            if (prevCurrentUser) {\r\n              history.push(\"/signin\");\r\n            }\r\n            return null;\r\n          });\r\n          return config;\r\n        }\r\n        return config;\r\n      },\r\n      (err) => {\r\n        return Promise.reject(err);\r\n      }\r\n    );\r\n\r\n    axiosRes.interceptors.response.use(\r\n      (response) => response,\r\n      async (err) => {\r\n        if (err.response?.status === 401) {\r\n          try {\r\n            await axios.post(\"/dj-rest-auth/token/refresh/\");\r\n          } catch (err) {\r\n            setCurrentUser((prevCurrentUser) => {\r\n              if (prevCurrentUser) {\r\n                history.push(\"/signin\");\r\n              }\r\n              return null;\r\n            });\r\n          }\r\n          return axios(err.config);\r\n        }\r\n        return Promise.reject(err);\r\n      }\r\n    );\r\n  }, [history]);\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <SetCurrentUserContext.Provider value={setCurrentUser}>\r\n        {children}\r\n      </SetCurrentUserContext.Provider>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n};\r\n","import { createContext, useContext, useEffect, useState } from \"react\";\r\n\r\nexport const DeviceSizeContext = createContext();\r\n\r\nexport const useDeviceSize = () => useContext(DeviceSizeContext);\r\n\r\nexport const DeviceSizeProvider = ({ children }) => {\r\n  const [deviceSize, setDeviceSize] = useState(\"mobile\");\r\n\r\n  useEffect(() => {\r\n    const handleResize = () => {\r\n      if (window.innerWidth < 500) {\r\n        setDeviceSize(\"mobile\");\r\n      } else {\r\n        setDeviceSize(\"desktop\");\r\n      }\r\n    };\r\n\r\n    handleResize(); // Set initial device size\r\n    window.addEventListener(\"resize\", handleResize);\r\n\r\n    return () => {\r\n      window.removeEventListener(\"resize\", handleResize);\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <DeviceSizeContext.Provider value={deviceSize}>\r\n      {children}\r\n    </DeviceSizeContext.Provider>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport styles from \"../styles/Avatar.module.css\";\r\n\r\nconst Avatar = ({ src, height = 45, text }) => {\r\n  return (\r\n    <span>\r\n      <img\r\n        className={styles.Avatar}\r\n        src={src}\r\n        height={height}\r\n        width={height}\r\n        alt=\"avatar\"\r\n      />\r\n      {text}\r\n    </span>\r\n  );\r\n};\r\n\r\nexport default Avatar;\r\n","import { useEffect, useRef, useState } from \"react\";\r\n\r\nconst useClickOutsideToggle = () => {\r\n  const [expanded, setExpanded] = useState(false);\r\n  const ref = useRef(null);\r\n  useEffect(() => {\r\n    const handleClickOutside = (event) => {\r\n      if (ref.current && !ref.current.contains(event.target)) {\r\n        setExpanded(false);\r\n      }\r\n    };\r\n\r\n    document.addEventListener(\"mouseup\", handleClickOutside);\r\n    return () => {\r\n      document.removeEventListener(\"mouseup\", handleClickOutside);\r\n    };\r\n  }, [ref]);\r\n\r\n  return { expanded, setExpanded, ref };\r\n};\r\n\r\nexport default useClickOutsideToggle;\r\n","import React from \"react\";\r\nimport {\r\n  ButtonGroup,\r\n  Col,\r\n  Container,\r\n  Navbar,\r\n  Row,\r\n} from \"react-bootstrap\";\r\n// import { NavLink } from \"react-router-dom/cjs/react-router-dom\";\r\nimport styles from \"../styles/BaseWidget.module.css\";\r\nimport { Nav } from \"react-bootstrap\";\r\nimport { useDeviceSize } from \"../contexts/DeviceSizeContext\";\r\nimport useClickOutsideToggle from \"../hooks/useClickOutsideToggle\";\r\n\r\nconst BaseWidget = ({ NavBarLinks, AddPostLink }) => {\r\n  const device = useDeviceSize();\r\n\r\n  const { expanded, setExpanded, ref } = useClickOutsideToggle();\r\n\r\n  return (\r\n    <>\r\n    <div\r\n      className={\r\n        device === \"mobile\"\r\n          ? styles.BaseWidget\r\n          : styles.BaseWidget + \" \" + styles.MessageWidget\r\n      }\r\n    >\r\n      <ButtonGroup\r\n        className={`d-flex flex-row justify-space-between ${styles.ButtonGroup}`}\r\n      >\r\n        <Container>\r\n          <Row>\r\n            <Col className=\"d-flex p-0\">\r\n              {/* <NavLink\r\n                className={styles.NavLink}\r\n                activeClassName={styles.Active}\r\n                to=\"/messages\"\r\n              >\r\n                <i className=\"fa-solid fa-envelope\"></i>\r\n                <span className=\"d-none d-md-inline\">Messages</span>\r\n              </NavLink> */}\r\n            </Col>\r\n            {device === \"mobile\" ? (\r\n              <>\r\n                <Col className=\"d-flex p-0 mt-1\">{AddPostLink}</Col>\r\n                <Col className=\"d-flex p-0\">\r\n                  <Navbar\r\n                    expand=\"lg\"\r\n                    expanded={expanded}\r\n                    className={styles.NavBar}\r\n                    id=\"widget-nav-bar\"\r\n                  >\r\n                    <Navbar.Collapse id=\"basic-navbar-nav\" className={styles.NavMenu}>\r\n                      <Nav className=\"ml-auto text-left p-1\">{NavBarLinks}</Nav>\r\n                    </Navbar.Collapse>\r\n                    <Navbar.Toggle\r\n                      ref={ref}\r\n                      onClick={() => setExpanded(!expanded)}\r\n                      aria-controls=\"basic-navbar-nav\"\r\n                      className={styles.Toggle}\r\n                    ><i className=\"fa-solid fa-bars\"></i></Navbar.Toggle>\r\n                  </Navbar>\r\n                </Col>\r\n              </>\r\n            ) : (\r\n              \"\"\r\n            )}\r\n          </Row>\r\n        </Container>\r\n      </ButtonGroup>\r\n    </div>\r\n    <div className={styles.dropShadow}></div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default BaseWidget;\r\n","import React, { useState } from \"react\";\r\nimport { Navbar, Nav, Container } from \"react-bootstrap\";\r\nimport styles from \"../styles/NavBar.module.css\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport {\r\n  useCurrentUser,\r\n  useSetCurrentUser,\r\n} from \"../contexts/CurrentUserContext\";\r\nimport { useDeviceSize } from \"../contexts/DeviceSizeContext\";\r\nimport Avatar from \"./Avatar\";\r\nimport axios from \"axios\";\r\nimport BaseWidget from \"./BaseWidget\";\r\nimport useClickOutsideToggle from \"../hooks/useClickOutsideToggle\";\r\n\r\nconst NavBar = () => {\r\n  const currentUser = useCurrentUser();\r\n  const setCurrentUser = useSetCurrentUser();\r\n  const device = useDeviceSize();\r\n  const mobile = device === \"mobile\" ? true : false;\r\n\r\n  const { expanded, setExpanded, ref } = useClickOutsideToggle();\r\n\r\n  const [pathname, setPathname] = useState(window.location.pathname);\r\n\r\n  const handleSignOut = async () => {\r\n    try {\r\n      await axios.post(\"/dj-rest-auth/logout/\");\r\n      setCurrentUser(null);\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  const addPostIcon = (\r\n    <>\r\n      <NavLink\r\n        className={`${styles.NavLink} ${mobile ? \"m-auto\" : \"\"}`}\r\n        activeClassName={styles.Active}\r\n        to=\"/posts/create\"\r\n      >\r\n        <i className=\"fa-solid fa-square-plus\"></i>\r\n        <span className={mobile ? \"d-none\" : \"\"}>Add Post</span>\r\n      </NavLink>\r\n    </>\r\n  );\r\n\r\n  const loggedInIcons = (\r\n    <>\r\n      <NavLink\r\n        className={styles.NavLink}\r\n        activeClassName={styles.Active}\r\n        to=\"/discover\"\r\n        onClick={() => setPathname(\"/discover\")}\r\n      >\r\n        <i className=\"fa-solid fa-earth-europe\"></i>\r\n        <span\r\n          className={`${pathname !== \"/discover\" && \"d-md-none\"} d-lg-inline`}\r\n        >\r\n          Discover\r\n        </span>\r\n        {/* <span className=\"d-md-none d-lg-inline\">Discover</span> */}\r\n      </NavLink>\r\n      <NavLink\r\n        className={styles.NavLink}\r\n        activeClassName={styles.Active}\r\n        to=\"/feed\"\r\n        onClick={() => setPathname(\"/feed\")}\r\n      >\r\n        <i className=\"fas fa-stream\"></i>\r\n        <span className={`${pathname !== \"/feed\" && \"d-md-none\"} d-lg-inline`}>\r\n          Feed\r\n        </span>\r\n        {/* <span className=\"d-md-none d-lg-inline\">Feed</span> */}\r\n      </NavLink>\r\n      <NavLink\r\n        className={styles.NavLink}\r\n        activeClassName={styles.Active}\r\n        to=\"/for-me\"\r\n        onClick={() => setPathname(\"/for-me\")}\r\n      >\r\n        <i className=\"fa-solid fa-hashtag\"></i>\r\n        <span\r\n          className={`${pathname !== \"/for-me\" && \"d-md-none\"} d-lg-inline`}\r\n        >\r\n          For me\r\n        </span>\r\n        {/* <span className=\"d-md-none d-lg-inline\">For me</span> */}\r\n      </NavLink>\r\n      <NavLink\r\n        className={styles.NavLink}\r\n        activeClassName={styles.Active}\r\n        to=\"/near-me\"\r\n        onClick={() => setPathname(\"/near-me\")}\r\n      >\r\n        <i className=\"fa-solid fa-location-dot\"></i>\r\n        <span\r\n          className={`${pathname !== \"/near-me\" && \"d-md-none\"} d-lg-inline`}\r\n        >\r\n          Near me\r\n        </span>\r\n        {/* <span className=\"d-md-none d-lg-inline\">Near me</span> */}\r\n      </NavLink>\r\n      <NavLink className={styles.NavLink} to=\"/\" onClick={handleSignOut}>\r\n        <i className=\"fas fa-sign-out-alt\"></i>\r\n        <span className=\"d-md-none d-lg-inline\">Sign out</span>\r\n      </NavLink>\r\n      <NavLink\r\n        className={styles.NavLink}\r\n        activeClassName={styles.Active}\r\n        to={`/profiles/${currentUser?.profile_id}`}\r\n      >\r\n        <Avatar src={currentUser?.profile_image} height={40} text=\"Profile\" />\r\n      </NavLink>\r\n    </>\r\n  );\r\n  const loggedOutIcons = (\r\n    <>\r\n      <NavLink\r\n        exact\r\n        className={styles.NavLink}\r\n        activeClassName={styles.Active}\r\n        to=\"/\"\r\n      >\r\n        <i className=\"fas fa-home\"></i>\r\n        <span>Home</span>\r\n      </NavLink>\r\n      <NavLink\r\n        className={styles.NavLink}\r\n        activeClassName={styles.Active}\r\n        to=\"/signin\"\r\n      >\r\n        <i className=\"fas fa-sign-in-alt\"></i>\r\n        <span>Sign in</span>\r\n      </NavLink>\r\n      <NavLink\r\n        className={styles.NavLink}\r\n        activeClassName={styles.Active}\r\n        to=\"/signup\"\r\n      >\r\n        <i className=\"fas fa-user-plus\"></i>\r\n        <span>Sign up</span>\r\n      </NavLink>\r\n    </>\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <Navbar\r\n        expanded={expanded}\r\n        expand=\"md\"\r\n        fixed=\"top\"\r\n        className={styles.NavBar}\r\n      >\r\n        <Container>\r\n          <NavLink to=\"/\">\r\n            <Navbar.Brand className={styles.Brand}>Off I Go</Navbar.Brand>\r\n          </NavLink>\r\n          {!mobile && (\r\n            <>\r\n              {currentUser && addPostIcon}\r\n              <Navbar.Toggle\r\n                ref={ref}\r\n                onClick={() => setExpanded(!expanded)}\r\n                aria-controls=\"basic-navbar-nav\"\r\n                className={styles.Toggle}\r\n              >\r\n                <i className=\"fa-solid fa-bars\"></i>\r\n              </Navbar.Toggle>\r\n              <Navbar.Collapse id=\"basic-navbar-nav\">\r\n                <Nav className=\"ml-auto text-right\">\r\n                  {currentUser ? loggedInIcons : loggedOutIcons}\r\n                </Nav>\r\n              </Navbar.Collapse>\r\n            </>\r\n          )}\r\n        </Container>\r\n      </Navbar>\r\n      {mobile && (\r\n        <BaseWidget\r\n          NavBarLinks={currentUser ? loggedInIcons : loggedOutIcons}\r\n          AddPostLink={addPostIcon}\r\n        />\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default NavBar;\r\n","import axios from \"axios\";\r\nimport { useEffect } from \"react\";\r\nimport { useHistory } from \"react-router-dom/cjs/react-router-dom.min\";\r\n\r\nexport const useRedirect = (userAuthStatus) => {\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    const handleMount = async () => {\r\n      try {\r\n        await axios.post(\"/dj-rest-auth/token/refresh/\");\r\n        // if user is logged in, the code below will run\r\n        if (userAuthStatus === \"loggedIn\") {\r\n          history.push(\"/discover\");\r\n        }\r\n      } catch (err) {\r\n        // if user is not logged in, the code below will run\r\n        if (userAuthStatus === \"loggedOut\") {\r\n          history.push(\"/signin\");\r\n        }\r\n      }\r\n    };\r\n    handleMount();\r\n  }, [history, userAuthStatus]);\r\n};\r\n","import React, { useState } from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\n\r\nimport styles from \"../../styles/SignInUpForm.module.css\";\r\nimport btnStyles from \"../../styles/Button.module.css\";\r\nimport appStyles from \"../../App.module.css\";\r\n\r\nimport {\r\n  Form,\r\n  Button,\r\n  Image,\r\n  Col,\r\n  Row,\r\n  Container,\r\n  Alert,\r\n} from \"react-bootstrap\";\r\nimport axios from \"axios\";\r\nimport { useRedirect } from \"../../hooks/useRedirect\";\r\n\r\nconst SignUpForm = () => {\r\n  useRedirect(\"loggedIn\");\r\n  const [signUpData, setSignUpData] = useState({\r\n    username: \"\",\r\n    password1: \"\",\r\n    password2: \"\",\r\n  });\r\n  const { username, password1, password2 } = signUpData;\r\n\r\n  const [errors, setErrors] = useState({});\r\n\r\n  const history = useHistory();\r\n\r\n  const handleChange = (event) => {\r\n    setSignUpData({\r\n      ...signUpData,\r\n      [event.target.name]: event.target.value,\r\n    });\r\n  };\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    try {\r\n      await axios.post(\"dj-rest-auth/registration/\", signUpData);\r\n      history.push(\"/signin\");\r\n    } catch (err) {\r\n      setErrors(err.response?.data);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Row className={styles.Row}>\r\n      <Col className=\"my-auto py-2 p-md-2\" md={6}>\r\n        <Container className={`${appStyles.Content} p-4 `}>\r\n          <h1 className={styles.Header}>sign up</h1>\r\n\r\n          <Form onSubmit={handleSubmit}>\r\n            <Form.Group controlId=\"username\">\r\n              <Form.Label className=\"d-none\">username</Form.Label>\r\n              <Form.Control\r\n                className={styles.Input}\r\n                type=\"text\"\r\n                placeholder=\"Username\"\r\n                name=\"username\"\r\n                value={username}\r\n                onChange={handleChange}\r\n              />\r\n            </Form.Group>\r\n            {errors.username?.map((message, idx) => (\r\n              <Alert variant=\"warning\" key={idx}>\r\n                {message}\r\n              </Alert>\r\n            ))}\r\n\r\n            <Form.Group controlId=\"password1\">\r\n              <Form.Label className=\"d-none\">Password</Form.Label>\r\n              <Form.Control\r\n                className={styles.Input}\r\n                type=\"password\"\r\n                placeholder=\"Password\"\r\n                name=\"password1\"\r\n                value={password1}\r\n                onChange={handleChange}\r\n              />\r\n            </Form.Group>\r\n            {errors.password1?.map((message, idx) => (\r\n              <Alert variant=\"warning\" key={idx}>\r\n                {message}\r\n              </Alert>\r\n            ))}\r\n\r\n            <Form.Group controlId=\"password2\">\r\n              <Form.Label className=\"d-none\">Confirm password</Form.Label>\r\n              <Form.Control\r\n                className={styles.Input}\r\n                type=\"password\"\r\n                placeholder=\"Confirm password\"\r\n                name=\"password2\"\r\n                value={password2}\r\n                onChange={handleChange}\r\n              />\r\n            </Form.Group>\r\n            {errors.password2?.map((message, idx) => (\r\n              <Alert variant=\"warning\" key={idx}>\r\n                {message}\r\n              </Alert>\r\n            ))}\r\n\r\n            <Button\r\n              className={`${btnStyles.Button} ${btnStyles.Wide} ${btnStyles.Bright}`}\r\n              type=\"submit\"\r\n            >\r\n              Sign up\r\n            </Button>\r\n            {errors.non_field_errors?.map((message, idx) => (\r\n              <Alert variant=\"warning\" key={idx} className=\"mt-3\">\r\n                {message}\r\n              </Alert>\r\n            ))}\r\n          </Form>\r\n        </Container>\r\n        <Container className={`mt-3 ${appStyles.Content}`}>\r\n          <Link className={styles.Link} to=\"/signin\">\r\n            Already have an account? <span>Sign in</span>\r\n          </Link>\r\n        </Container>\r\n      </Col>\r\n      <Col\r\n        md={6}\r\n        className={`my-auto d-none d-md-block p-2 ${styles.SignUpCol}`}\r\n      >\r\n        <Image\r\n          className={`${appStyles.FillerImage} ${styles.SignUpImage}`}\r\n          src={\r\n            \"https://res.cloudinary.com/dnepttq4h/image/upload/v1743515891/signup-image_s3gcd9.jpg\"\r\n          }\r\n        />\r\n      </Col>\r\n    </Row>\r\n  );\r\n};\r\n\r\nexport default SignUpForm;\r\n","import React, { useState } from \"react\";\r\n\r\nimport Form from \"react-bootstrap/Form\";\r\nimport Alert from \"react-bootstrap/Alert\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Image from \"react-bootstrap/Image\";\r\nimport Container from \"react-bootstrap/Container\";\r\n\r\nimport { Link, useHistory } from \"react-router-dom\";\r\n\r\nimport styles from \"../../styles/SignInUpForm.module.css\";\r\nimport btnStyles from \"../../styles/Button.module.css\";\r\nimport appStyles from \"../../App.module.css\";\r\nimport axios from \"axios\";\r\nimport { useSetCurrentUser } from \"../../contexts/CurrentUserContext\";\r\nimport { useRedirect } from \"../../hooks/useRedirect\";\r\n\r\nfunction SignInForm() {\r\n  const setCurrentUser = useSetCurrentUser();\r\n  useRedirect(\"loggedIn\");\r\n\r\n  const [signInData, setSignInData] = useState({\r\n    username: \"\",\r\n    password: \"\",\r\n  });\r\n\r\n  const { username, password } = signInData;\r\n\r\n  const [errors, setErrors] = useState({});\r\n\r\n  const history = useHistory();\r\n\r\n  const handleChange = (event) => {\r\n    setSignInData({\r\n      ...signInData,\r\n      [event.target.name]: event.target.value,\r\n    });\r\n  };\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    try {\r\n      const { data } = await axios.post(\"dj-rest-auth/login/\", signInData);\r\n      setCurrentUser(data.user);\r\n      history.goBack();\r\n    } catch (err) {\r\n      setErrors(err.response?.data);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Row className={styles.Row}>\r\n      <Col className=\"my-auto p-0 p-md-2\" md={6}>\r\n        <Container className={`${appStyles.Content} p-4 `}>\r\n          <h1 className={styles.Header}>sign in</h1>\r\n\r\n          <Form onSubmit={handleSubmit}>\r\n            <Form.Group controlId=\"username\">\r\n              <Form.Label className=\"d-none\">Username</Form.Label>\r\n              <Form.Control\r\n                type=\"text\"\r\n                placeholder=\"Username\"\r\n                name=\"username\"\r\n                value={username}\r\n                className={styles.Input}\r\n                onChange={handleChange}\r\n              />\r\n            </Form.Group>\r\n            {errors?.username?.map((message, idx) => (\r\n              <Alert variant=\"warning\" key={idx}>\r\n                {message}\r\n              </Alert>\r\n            ))}\r\n\r\n            <Form.Group controlId=\"password\">\r\n              <Form.Label className=\"d-none\">Password</Form.Label>\r\n              <Form.Control\r\n                type=\"password\"\r\n                placeholder=\"Password\"\r\n                name=\"password\"\r\n                value={password}\r\n                className={styles.Input}\r\n                onChange={handleChange}\r\n              />\r\n            </Form.Group>\r\n            {errors?.password?.map((message, idx) => (\r\n              <Alert variant=\"warning\" key={idx}>\r\n                {message}\r\n              </Alert>\r\n            ))}\r\n\r\n            <Button\r\n              className={`${btnStyles.Button} ${btnStyles.Wide} ${btnStyles.Bright}`}\r\n              type=\"submit\"\r\n            >\r\n              Sign in\r\n            </Button>\r\n            {errors.non_field_errors?.map((message, idx) => (\r\n              <Alert variant=\"warning\" key={idx} className=\"mt-3\">\r\n                {message}\r\n              </Alert>\r\n            ))}\r\n          </Form>\r\n        </Container>\r\n        <Container className={`mt-3 ${appStyles.Content}`}>\r\n          <Link className={styles.Link} to=\"/signup\">\r\n            Don't have an account? <span>Sign up now!</span>\r\n          </Link>\r\n        </Container>\r\n      </Col>\r\n      <Col\r\n        md={6}\r\n        className={`my-auto d-none d-md-block p-2 ${styles.SignInCol}`}\r\n      >\r\n        <Image\r\n          className={`${appStyles.FillerImage} ${styles.SignInImage}`}\r\n          src={\r\n            \"https://res.cloudinary.com/dnepttq4h/image/upload/v1743524002/signin-image_shgm8m.jpg\"\r\n          }\r\n        />\r\n      </Col>\r\n    </Row>\r\n  );\r\n}\r\n\r\nexport default SignInForm;\r\n","import React from \"react\";\r\nimport { Spinner } from \"react-bootstrap\";\r\nimport styles from \"../styles/Asset.module.css\";\r\n\r\nconst Asset = ({ spinner, src, icon, message }) => {\r\n  return (\r\n    <div className={`${styles.Asset} p-4`}>\r\n      {spinner && (\r\n        <Spinner animation=\"border\" role=\"status\">\r\n          <span className=\"sr-only\">Loading...</span>\r\n        </Spinner>\r\n      )}\r\n      {src && <img src={src} alt={message} />}\r\n      {icon && <span alt={message} className={styles.Icon}>{icon}</span>}\r\n      {message && <p className=\"mt-4\">{message}</p>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Asset;\r\n","import React, { useRef, useState } from \"react\";\r\n\r\nimport Form from \"react-bootstrap/Form\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Container from \"react-bootstrap/Container\";\r\n\r\nimport styles from \"../../styles/PostCreateEditForm.module.css\";\r\nimport appStyles from \"../../App.module.css\";\r\nimport btnStyles from \"../../styles/Button.module.css\";\r\nimport Asset from \"../../components/Asset\";\r\nimport { Alert, Image } from \"react-bootstrap\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { axiosReq } from \"../../api/axiosDefaults\";\r\nimport { useRedirect } from \"../../hooks/useRedirect\";\r\n\r\nconst Upload = <i className=\"fa-solid fa-cloud-arrow-up\"></i>;\r\n\r\nfunction PostCreateForm() {\r\n  useRedirect(\"loggedOut\");\r\n  const [errors, setErrors] = useState({});\r\n\r\n  const [postData, setPostData] = useState({\r\n    title: \"\",\r\n    content: \"\",\r\n    media: \"\",\r\n    tags: \"\",\r\n    listing_type: 3,\r\n    latitude: null,\r\n    longitude: null,\r\n  });\r\n\r\n  const { title, content, media, tags, listing_type, latitude, longitude } =\r\n    postData;\r\n\r\n  const imageInput = useRef(null);\r\n  const history = useHistory();\r\n\r\n  const handleChange = (event) => {\r\n    setPostData({\r\n      ...postData,\r\n      [event.target.name]: event.target.value,\r\n    });\r\n  };\r\n\r\n  const handleChangeImage = (event) => {\r\n    if (event.target.files.length) {\r\n      URL.revokeObjectURL(media);\r\n      setPostData({\r\n        ...postData,\r\n        media: URL.createObjectURL(event.target.files[0]),\r\n      });\r\n    }\r\n  };\r\n\r\n  function handleLiveLocationClick() {\r\n    if (navigator.geolocation) {\r\n      navigator.geolocation.getCurrentPosition(success, error);\r\n    } else {\r\n      console.log(\"Geolocation is not supported by this browser.\");\r\n    }\r\n  }\r\n\r\n  function success(position) {\r\n    setPostData({\r\n      ...postData,\r\n      latitude: position.coords.latitude,\r\n      longitude: position.coords.longitude,\r\n    });\r\n  }\r\n\r\n  function error() {\r\n    console.log(\"Unable to retrieve your location.\");\r\n  }\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n\r\n    if (imageInput.current.files.length < 1) {\r\n      handlePostSubmit();\r\n    } else {\r\n      const mediaData = new FormData();\r\n      mediaData.append(\"image\", imageInput.current.files[0]);\r\n\r\n      try {\r\n        const { data } = await axiosReq.post(\"/medias/\", mediaData);\r\n        console.log(data);\r\n        handlePostSubmit(data.id);\r\n      } catch (err) {\r\n        console.log(err);\r\n        if (err.response?.status !== 401) {\r\n          setErrors(err.response?.data);\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  const handlePostSubmit = async (medias) => {\r\n    const formData = new FormData();\r\n\r\n    formData.append(\"title\", title);\r\n    formData.append(\"content\", content);\r\n    if (medias) formData.append(\"media\", medias);\r\n    if (tags) formData.append(\"tags\", tags);\r\n    formData.append(\"listing_type\", listing_type);\r\n    formData.append(\"latitude\", latitude);\r\n    formData.append(\"longitude\", longitude);\r\n\r\n    try {\r\n      const { data } = await axiosReq.post(\"/posts/\", formData);\r\n      console.log(data);\r\n      history.push(`/posts/${data.id}`);\r\n    } catch (err) {\r\n      console.log(err);\r\n      if (err.response?.status !== 401) {\r\n        setErrors(err.response?.data);\r\n      }\r\n    }\r\n  };\r\n\r\n  const textFields = (\r\n    <div className=\"text-center\">\r\n      <Form.Group controlId=\"title\">\r\n        <Form.Label>Title</Form.Label>\r\n        <Form.Control\r\n          type=\"text\"\r\n          name=\"title\"\r\n          value={title}\r\n          onChange={handleChange}\r\n          placeholder=\"Title goes here\"\r\n        />\r\n      </Form.Group>\r\n      {errors?.title?.map((message, idx) => (\r\n        <Alert variant=\"warning\" key={idx}>\r\n          {message}\r\n        </Alert>\r\n      ))}\r\n      <Form.Group controlId=\"Content\">\r\n        <Form.Label>Content</Form.Label>\r\n        <Form.Control\r\n          as=\"textarea\"\r\n          name=\"content\"\r\n          rows={6}\r\n          value={content}\r\n          onChange={handleChange}\r\n          placeholder=\"Post content here\"\r\n        />\r\n      </Form.Group>\r\n      {errors?.content?.map((message, idx) => (\r\n        <Alert variant=\"warning\" key={idx}>\r\n          {message}\r\n        </Alert>\r\n      ))}\r\n      <Form.Group>\r\n        <Form.Label>Home - latitude</Form.Label>\r\n        <Form.Control\r\n          type=\"text\"\r\n          value={latitude}\r\n          onChange={handleChange}\r\n          name=\"latitude\"\r\n          placeholder=\"Latitude\"\r\n        />\r\n        <Form.Label>Home - longitude</Form.Label>\r\n        <Form.Control\r\n          type=\"text\"\r\n          value={longitude}\r\n          onChange={handleChange}\r\n          name=\"longitude\"\r\n          placeholder=\"Longitude\"\r\n        />\r\n        {errors?.latitude?.map((message, idx) => (\r\n          <Alert variant=\"warning\" key={idx}>\r\n            {message}\r\n          </Alert>\r\n        ))}\r\n        {errors?.longitude?.map((message, idx) => (\r\n          <Alert variant=\"warning\" key={idx}>\r\n            {message}\r\n          </Alert>\r\n        ))}\r\n        <div className=\"my-2\">\r\n          <Button\r\n            onClick={() => {\r\n              handleLiveLocationClick();\r\n            }}\r\n            className={`${btnStyles.Button} ${btnStyles.Blue}`}\r\n            aria-label=\"Get Live Location\"\r\n          >\r\n            Get Live Location\r\n          </Button>\r\n        </div>\r\n      </Form.Group>\r\n      <Form.Group as={Row} controlId=\"tags\">\r\n        <Form.Label column sm={2}>\r\n          Tags\r\n        </Form.Label>\r\n        <Col sm={10}>\r\n          <Form.Control\r\n            type=\"text\"\r\n            name=\"tags\"\r\n            value={tags}\r\n            onChange={handleChange}\r\n            placeholder=\"separate tags with spaces\"\r\n          />\r\n        </Col>\r\n      </Form.Group>\r\n      {errors?.tags?.map((message, idx) => (\r\n        <Alert variant=\"warning\" key={idx}>\r\n          {message}\r\n        </Alert>\r\n      ))}\r\n      <Form.Group as={Row} controlId=\"listing_type\">\r\n        <Form.Label column sm={5}>\r\n          Listing Type\r\n        </Form.Label>\r\n        <Col sm={7}>\r\n          <Form.Control\r\n            as=\"select\"\r\n            name=\"listing_type\"\r\n            value={listing_type}\r\n            onChange={handleChange}\r\n          >\r\n            <option value={0}>Draft</option>\r\n            <option value={1}>Private</option>\r\n            <option value={2}>Unlisted</option>\r\n            <option value={3}>Public</option>\r\n          </Form.Control>\r\n        </Col>\r\n      </Form.Group>\r\n      {errors?.listing_type?.map((message, idx) => (\r\n        <Alert variant=\"warning\" key={idx}>\r\n          {message}\r\n        </Alert>\r\n      ))}\r\n\r\n      <Button\r\n        className={`${btnStyles.Button} ${btnStyles.Blue}`}\r\n        onClick={() => history.goBack()}\r\n      >\r\n        cancel\r\n      </Button>\r\n      <Button className={`${btnStyles.Button} ${btnStyles.Blue}`} type=\"submit\">\r\n        create\r\n      </Button>\r\n      {errors?.non_field_errors?.map((message, idx) => (\r\n        <Alert variant=\"warning\" key={idx} className=\"mt-3\">\r\n          {message}\r\n        </Alert>\r\n      ))}\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <Form onSubmit={handleSubmit}>\r\n      <Row>\r\n        <Col className=\"py-2 p-0 p-md-2\" md={7} lg={8}>\r\n          <Container\r\n            className={`${appStyles.Content} ${styles.Container} d-flex flex-column justify-content-center`}\r\n          >\r\n            <Form.Group className=\"text-center\">\r\n              {media ? (\r\n                <>\r\n                  <figure>\r\n                    <Image className={appStyles.Image} src={media} rounded />\r\n                    {/* <video className={appStyles.Image} src={media} controls /> */}\r\n                  </figure>\r\n                  <div>\r\n                    <Form.Label\r\n                      className={`${btnStyles.Button} ${btnStyles.Blue} btn btn-primary`}\r\n                      htmlFor=\"media-upload\"\r\n                    >\r\n                      Change the image\r\n                    </Form.Label>\r\n                  </div>\r\n                </>\r\n              ) : (\r\n                <Form.Label\r\n                  className=\"d-flex justify-content-center\"\r\n                  htmlFor=\"media-upload\"\r\n                >\r\n                  <Asset\r\n                    icon={Upload}\r\n                    message=\"Click or tap to upload an image\"\r\n                  />\r\n                </Form.Label>\r\n              )}\r\n\r\n              <Form.File\r\n                id=\"media-upload\"\r\n                accept=\"image/*\"\r\n                onChange={handleChangeImage}\r\n                ref={imageInput}\r\n              />\r\n            </Form.Group>\r\n            <div className=\"d-md-none\">{textFields}</div>\r\n          </Container>\r\n        </Col>\r\n        <Col md={5} lg={4} className=\"d-none d-md-block p-0 p-md-2\">\r\n          <Container className={appStyles.Content}>{textFields}</Container>\r\n        </Col>\r\n      </Row>\r\n    </Form>\r\n  );\r\n}\r\n\r\nexport default PostCreateForm;\r\n","import React from \"react\";\r\nimport styles from \"../styles/PopularReactions.module.css\";\r\n\r\n// Helper function to map reaction types to FontAwesome icons\r\n// This function takes a reaction type (number) and returns the\r\n// corresponding FontAwesome icon class name\r\nconst reactionToIcon = (reaction) => {\r\n  switch (reaction) {\r\n    case 0:\r\n      return \"fa-thumbs-up\"; // Like\r\n    case 1:\r\n      return \"fa-heart\"; // Love\r\n    case 2:\r\n      return \"fa-face-grin-tears\"; // Funny\r\n    case 3:\r\n      return \"fa-face-grin-stars\"; // Amazing\r\n    case 4:\r\n      return \"fa-hand-holding-heart\"; // Care\r\n    case 5:\r\n      return \"fa-face-sad-tear\"; // Sad\r\n    case 6:\r\n      return \"fa-thumbs-down\"; // Dislike\r\n    case 7:\r\n      return \"fa-face-angry\"; // Angry\r\n    default:\r\n      return null;\r\n  }\r\n};\r\n\r\nconst concatReactionStyles = (index) => {\r\n  switch (index) {\r\n    case 0:\r\n      return styles.PopularReactions1;\r\n    case 1:\r\n      return styles.PopularReactions2;\r\n    case 2:\r\n      return styles.PopularReactions3;\r\n    default:\r\n      return styles.PopularReactions;\r\n  }\r\n};\r\n\r\n// PopularReactions component\r\n// This component displays the popular reactions for a post\r\nconst PopularReactions = ({ popular_reactions = [], count = 0 }) => {\r\n  return (\r\n    <>\r\n      <div className=\"d-flex align-items-center justify-content-center\">\r\n        {popular_reactions.map(({ reaction }, index) => {\r\n          // Only show the first three reactions\r\n          const icon = index < 3 ? reactionToIcon(reaction) : null;\r\n\r\n          // Only render the icon if it exists\r\n          return icon ? (\r\n            <span\r\n              key={`emoji_${index}`}\r\n              className={concatReactionStyles(index)}\r\n            >\r\n              <i className={`fa-solid ${icon}`} />\r\n            </span>\r\n          ) : null;\r\n        })}\r\n        {count === 0 && (\r\n          <span key={`emoji_0`} className={concatReactionStyles(0)}>\r\n            <i className={`fa-regular fa-thumbs-up`} />\r\n          </span>\r\n        )}\r\n      </div>\r\n      <span>{count}</span>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default PopularReactions;\r\n","import React from \"react\";\r\nimport styles from \"../styles/MoreDropdown.module.css\";\r\nimport Dropdown from \"react-bootstrap/Dropdown\";\r\nimport { useHistory } from \"react-router-dom/cjs/react-router-dom\";\r\n\r\nconst ThreeDots = React.forwardRef(({ onClick }, ref) => (\r\n  <i\r\n    className=\"fa-solid fa-ellipsis-vertical\"\r\n    ref={ref}\r\n    onClick={(e) => {\r\n      e.preventDefault();\r\n      onClick(e);\r\n    }}\r\n  />\r\n));\r\n\r\nexport const MoreDropdown = ({ handleEdit, handleDelete }) => {\r\n  return (\r\n    <Dropdown className=\"ml-auto px-1\" drop=\"left\">\r\n      <Dropdown.Toggle as={ThreeDots} />\r\n\r\n      <Dropdown.Menu\r\n        className=\"text-center\"\r\n        popperConfig={{ strategy: \"fixed\" }}\r\n      >\r\n        <Dropdown.Item\r\n          className={styles.DropdownItem}\r\n          onClick={handleEdit}\r\n          aria-label=\"edit\"\r\n        >\r\n          <i className=\"fa-solid fa-pen-to-square\" />\r\n        </Dropdown.Item>\r\n        <Dropdown.Item\r\n          className={styles.DropdownItem}\r\n          onClick={handleDelete}\r\n          aria-label=\"delete\"\r\n        >\r\n          <i className=\"fa-solid fa-trash\" />\r\n        </Dropdown.Item>\r\n      </Dropdown.Menu>\r\n    </Dropdown>\r\n  );\r\n};\r\n\r\nexport function ProfileEditDropdown({ id }) {\r\n  const history = useHistory();\r\n  return (\r\n    <Dropdown className={`ml-auto px-3 ${styles.Absolute}`} drop=\"left\">\r\n      <Dropdown.Toggle as={ThreeDots} />\r\n      <Dropdown.Menu>\r\n        <Dropdown.Item\r\n          onClick={() => history.push(`/profiles/${id}/edit`)}\r\n          aria-label=\"edit-profile\"\r\n        >\r\n          <i className=\"fas fa-edit\" /> edit profile\r\n        </Dropdown.Item>\r\n        <Dropdown.Item\r\n          onClick={() => history.push(`/profiles/${id}/edit/username`)}\r\n          aria-label=\"edit-username\"\r\n        >\r\n          <i className=\"far fa-id-card\" />\r\n          change username\r\n        </Dropdown.Item>\r\n        <Dropdown.Item\r\n          onClick={() => history.push(`/profiles/${id}/edit/password`)}\r\n          aria-label=\"edit-password\"\r\n        >\r\n          <i className=\"fas fa-key\" />\r\n          change password\r\n        </Dropdown.Item>\r\n      </Dropdown.Menu>\r\n    </Dropdown>\r\n  );\r\n}","import React from \"react\";\r\nimport styles from \"../styles/Post.module.css\";\r\nimport Dropdown from \"react-bootstrap/Dropdown\";\r\n\r\n// Helper function to map reaction types to FontAwesome icons\r\n// This function takes a reaction type (number) and returns the\r\n// corresponding FontAwesome icon class name\r\nconst reactionToIcon = (reaction) => {\r\n  switch (reaction) {\r\n    case 0:\r\n      return \"fa-solid fa-thumbs-up\"; // Like\r\n    case 1:\r\n      return \"fa-solid fa-heart\"; // Love\r\n    case 2:\r\n      return \"fa-solid fa-face-grin-tears\"; // Funny\r\n    case 3:\r\n      return \"fa-solid fa-face-grin-stars\"; // Amazing\r\n    case 4:\r\n      return \"fa-solid fa-hand-holding-heart\"; // Care\r\n    case 5:\r\n      return \"fa-solid fa-face-sad-tear\"; // Sad\r\n    case 6:\r\n      return \"fa-solid fa-thumbs-down\"; // Dislike\r\n    case 7:\r\n      return \"fa-solid fa-face-angry\"; // Angry\r\n    default:\r\n      return `fa-regular fa-thumbs-up`; // Default to thumbs up\r\n  }\r\n};\r\n\r\nconst reactionOptions = [\r\n  { reaction: 0, icon: \"fa-solid fa-thumbs-up\", meaning: \"Like\" },\r\n  { reaction: 1, icon: \"fa-solid fa-heart\", meaning: \"Love\" },\r\n  { reaction: 2, icon: \"fa-solid fa-face-grin-tears\", meaning: \"Funny\" },\r\n  { reaction: 3, icon: \"fa-solid fa-face-grin-stars\", meaning: \"Amazing\" },\r\n  { reaction: 4, icon: \"fa-solid fa-hand-holding-heart\", meaning: \"Care\" },\r\n  { reaction: 5, icon: \"fa-solid fa-face-sad-tear\", meaning: \"Sad\" },\r\n  { reaction: 6, icon: \"fa-solid fa-thumbs-down\", meaning: \"Dislike\" },\r\n  { reaction: 7, icon: \"fa-solid fa-face-angry\", meaning: \"Angry\" },\r\n];\r\n\r\nconst ThumbsUp = React.forwardRef(({ onClick }, ref) => (\r\n  <i\r\n    className={`fa-regular fa-thumbs-up`}\r\n    ref={ref}\r\n    onClick={(e) => {\r\n      e.preventDefault();\r\n      onClick(e);\r\n    }}\r\n  />\r\n));\r\n\r\nexport const ReactionDropdown = ({ handleReaction }) => {\r\n  return (\r\n    <Dropdown className=\"ml-auto px-1\" drop=\"right\" as=\"span\">\r\n      <Dropdown.Toggle as={ThumbsUp} />\r\n\r\n      <Dropdown.Menu\r\n        className=\"text-center\"\r\n        popperConfig={{ strategy: \"fixed\" }}\r\n      >\r\n        {reactionOptions.map(({ reaction: reactionType, icon, meaning }) => (\r\n          <Dropdown.Item\r\n            key={reactionType}\r\n            className={styles.DropdownItem}\r\n            onClick={() => handleReaction(reactionType)}\r\n            aria-label={`reaction-${meaning.toLowerCase()}`}\r\n          >\r\n            <i className={icon} />\r\n          </Dropdown.Item>\r\n        ))}\r\n      </Dropdown.Menu>\r\n    </Dropdown>\r\n  );\r\n};\r\n\r\nexport const ReactionIcon = ({ reaction }) => {\r\n  const icon = reactionToIcon(reaction);\r\n  return <i className={`${icon} ${styles.Reaction}`} />;\r\n};\r\n","import React, { useEffect, useState } from \"react\";\r\nimport styles from \"../../styles/Post.module.css\";\r\nimport { useCurrentUser } from \"../../contexts/CurrentUserContext\";\r\nimport {\r\n  Card,\r\n  Col,\r\n  Container,\r\n  Media,\r\n  OverlayTrigger,\r\n  Row,\r\n  Tooltip,\r\n} from \"react-bootstrap\";\r\nimport { Link } from \"react-router-dom/cjs/react-router-dom\";\r\nimport Avatar from \"../../components/Avatar\";\r\nimport PopularReactions from \"../../components/PopularReactions\";\r\nimport { axiosReq, axiosRes } from \"../../api/axiosDefaults\";\r\nimport { MoreDropdown } from \"../../components/MoreDropdown\";\r\nimport { useHistory } from \"react-router-dom/cjs/react-router-dom.min\";\r\nimport Asset from \"../../components/Asset\";\r\nimport {\r\n  ReactionDropdown,\r\n  ReactionIcon,\r\n} from \"../../components/ReactionDropdown\";\r\n\r\nconst Post = (props) => {\r\n  const {\r\n    content_type,\r\n    id,\r\n    owner,\r\n    profile_id,\r\n    profile_image,\r\n    title,\r\n    body,\r\n    media,\r\n    updated_at,\r\n    reaction_id,\r\n    reaction_type_id,\r\n    reactions_count,\r\n    comments_count,\r\n    popular_reactions,\r\n    postPage,\r\n    setPosts,\r\n    longitude,\r\n    latitude,\r\n  } = props;\r\n\r\n  const currentUser = useCurrentUser();\r\n  const is_owner = currentUser?.username === owner;\r\n  const history = useHistory();\r\n\r\n  const [mediaData, setMediaData] = useState({\r\n    media_id: 0,\r\n    media_type: 0,\r\n    image: \"\",\r\n    video: \"\",\r\n  });\r\n  const [mediaLoaded, setMediaLoaded] = useState(false);\r\n\r\n  const handleEdit = () => {\r\n    history.push(`/posts/${id}/edit`);\r\n  };\r\n\r\n  const handleDelete = async () => {\r\n    try {\r\n      await axiosRes.delete(`/posts/${id}/`);\r\n      history.goBack();\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const getMedia = async () => {\r\n      try {\r\n        const { data } = await axiosReq.get(`/medias/${media[0]}/`);\r\n        const { id: media_id, media_type, image, video } = data;\r\n        setMediaData({ media_id, media_type, image, video });\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    };\r\n    if (media.length) {\r\n      getMedia();\r\n      setMediaLoaded(true);\r\n    }\r\n  }, [media]);\r\n\r\n  const handleReaction = async (reactionDigit) => {\r\n    try {\r\n      const { data } = await axiosRes.post(\"/reactions/\", {\r\n        content_type: content_type,\r\n        object_id: id,\r\n        reaction: reactionDigit,\r\n      });\r\n      setPosts((prevPosts) => ({\r\n        ...prevPosts,\r\n        results: prevPosts.results.map((post) => {\r\n          return post.id === id\r\n            ? {\r\n                ...post,\r\n                reactions_count: post.reactions_count + 1,\r\n                reaction_id: data.id,\r\n                reaction_type_id: data.reaction,\r\n\r\n                popular_reactions: post.popular_reactions.map(\r\n                  (item, index) => {\r\n                    return item.reaction === reaction_type_id &&\r\n                      reaction_type_id !== null &&\r\n                      item.count > 0\r\n                      ? {\r\n                          count: item.count + 1,\r\n                        }\r\n                      : index === post.popular_reactions.length - 1\r\n                      ? (popular_reactions[popular_reactions.length] = {\r\n                          reaction: data.reaction,\r\n                          count: 1,\r\n                        })\r\n                      : item;\r\n                  },\r\n                  post.popular_reactions.length\r\n                    ? null\r\n                    : (popular_reactions[post.popular_reactions.length] = {})\r\n                ),\r\n              }\r\n            : post;\r\n        }),\r\n      }));\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  const handleNoReaction = async () => {\r\n    try {\r\n      await axiosRes.delete(`/reactions/${reaction_id}/`);\r\n      setPosts((prevPosts) => ({\r\n        ...prevPosts,\r\n        results: prevPosts.results.map((post) => {\r\n          return post.id === id\r\n            ? {\r\n                ...post,\r\n                reactions_count: post.reactions_count - 1,\r\n                reaction_id: null,\r\n                reaction_type_id: null,\r\n\r\n                popular_reactions: post.popular_reactions.map((item, index) => {\r\n                  return item.reaction === reaction_type_id && item.count > 1\r\n                    ? {\r\n                        count: item.count - 1,\r\n                      }\r\n                    : item.reaction === reaction_type_id && item.count === 1\r\n                    ? post.popular_reactions.pop(index)\r\n                    : item;\r\n                }),\r\n              }\r\n            : post;\r\n        }),\r\n      }));\r\n    } catch (err) {}\r\n  };\r\n\r\n  return (\r\n    <Card className={styles.Post}>\r\n      <Card.Body>\r\n        <Media className=\"align-item-center justify-content-between\">\r\n          <Link to={`/profiles/${profile_id}`}>\r\n            <Avatar src={profile_image} height={55} />\r\n            {owner}\r\n          </Link>\r\n          <div className=\"d-flex align-items-center\">\r\n            <span>{updated_at}</span>\r\n            {is_owner && postPage && (\r\n              <MoreDropdown\r\n                handleEdit={handleEdit}\r\n                handleDelete={handleDelete}\r\n              />\r\n            )}\r\n          </div>\r\n        </Media>\r\n      </Card.Body>\r\n      {mediaLoaded ? (\r\n        media.length ? (\r\n          <>\r\n            <Link to={`/posts/${id}`}>\r\n              {mediaData.media_type === 1 ? (\r\n                <video controls src={mediaData.video} />\r\n              ) : (\r\n                <Card.Img src={mediaData.image} alt={title} />\r\n              )}\r\n            </Link>\r\n          </>\r\n        ) : (\r\n          <Container>\r\n            <Asset spinner />\r\n          </Container>\r\n        )\r\n      ) : (\r\n        \"\"\r\n      )}\r\n      <Card.Body>\r\n        <Row className=\"justify-content-between\">\r\n          <Col xs={2}>\r\n            <PopularReactions\r\n              popular_reactions={popular_reactions}\r\n              count={reactions_count}\r\n            />\r\n          </Col>\r\n          <Col xs={8}>\r\n            {title && <Card.Title className=\"text-center\">{title}</Card.Title>}\r\n          </Col>\r\n          <Col xs={2}>\r\n            <Link to={`/posts/${id}`}>\r\n              <i className=\"far fa-comment\" />\r\n            </Link>\r\n            <div>{comments_count}</div>\r\n          </Col>\r\n        </Row>\r\n\r\n        {body && <Card.Text>{body}</Card.Text>}\r\n        <div className={styles.PostBar}>\r\n          {is_owner ? (\r\n            <OverlayTrigger\r\n              placement=\"top\"\r\n              overlay={<Tooltip>You cannot react to your own Post!</Tooltip>}\r\n            >\r\n              <i className=\"fa-regular fa-thumbs-up\"></i>\r\n            </OverlayTrigger>\r\n          ) : reaction_id ? (\r\n            <span onClick={handleNoReaction}>\r\n              <ReactionIcon reaction={reaction_type_id} />\r\n            </span>\r\n          ) : currentUser ? (\r\n            <ReactionDropdown\r\n              reaction={reaction_type_id}\r\n              handleReaction={handleReaction}\r\n            />\r\n          ) : (\r\n            <OverlayTrigger\r\n              placement=\"top\"\r\n              overlay={<Tooltip>You need to login to react!</Tooltip>}\r\n            >\r\n              <i\r\n                className={`fa-regular fa-thumbs-up ${styles.ReactionOutline}`}\r\n              />\r\n            </OverlayTrigger>\r\n          )}\r\n          <Link to={`/posts/${id}`}>\r\n            <i className=\"far fa-comment\" />\r\n          </Link>\r\n          {latitude && longitude && (\r\n            <a\r\n              href={`https://www.google.com/maps/place/${latitude},${longitude}`}\r\n              target=\"_blank\"\r\n              rel=\"opener noreferrer\"\r\n              aria-label=\"View location on Google Maps\"\r\n            >\r\n              <i className=\"fas fa-map-marker-alt\" />\r\n            </a>\r\n          )}\r\n        </div>\r\n      </Card.Body>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default Post;\r\n","import React, { useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport Form from \"react-bootstrap/Form\";\r\nimport InputGroup from \"react-bootstrap/InputGroup\";\r\n\r\nimport styles from \"../../styles/CommentCreateEditForm.module.css\";\r\nimport Avatar from \"../../components/Avatar\";\r\nimport { axiosRes } from \"../../api/axiosDefaults\";\r\n\r\nfunction CommentCreateForm(props) {\r\n  const { post, setPost, setComments, profileImage, profile_id } = props;\r\n  const [body, setbody] = useState(\"\");\r\n\r\n  const handleChange = (event) => {\r\n    setbody(event.target.value);\r\n  };\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    try {\r\n      const { data } = await axiosRes.post(\"/comments/\", {\r\n        body,\r\n        post,\r\n      });\r\n      setComments((prevComments) => ({\r\n        ...prevComments,\r\n        results: [data, ...prevComments.results],\r\n      }));\r\n      setPost((prevPost) => ({\r\n        results: [\r\n          {\r\n            ...prevPost.results[0],\r\n            comments_count: prevPost.results[0].comments_count + 1,\r\n          },\r\n        ],\r\n      }));\r\n      setbody(\"\");\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Form className=\"mt-2\" onSubmit={handleSubmit}>\r\n      <Form.Group>\r\n        <InputGroup>\r\n          <Link to={`/profiles/${profile_id}`}>\r\n            <Avatar src={profileImage} />\r\n          </Link>\r\n          <Form.Control\r\n            className={styles.Form}\r\n            placeholder=\"my comment...\"\r\n            as=\"textarea\"\r\n            value={body}\r\n            onChange={handleChange}\r\n            rows={2}\r\n          />\r\n        </InputGroup>\r\n      </Form.Group>\r\n      <button\r\n        className={`${styles.Button} btn d-block ml-auto`}\r\n        disabled={!body.trim()}\r\n        type=\"submit\"\r\n      >\r\n        post\r\n      </button>\r\n    </Form>\r\n  );\r\n}\r\n\r\nexport default CommentCreateForm;","import React, { useState } from \"react\";\r\n\r\nimport Form from \"react-bootstrap/Form\";\r\nimport { axiosRes } from \"../../api/axiosDefaults\";\r\n\r\nimport styles from \"../../styles/CommentCreateEditForm.module.css\";\r\n\r\nfunction CommentEditForm(props) {\r\n  const { id, body, setShowEditForm, setComments } = props;\r\n\r\n  const [formContent, setFormContent] = useState(body);\r\n\r\n  const handleChange = (event) => {\r\n    setFormContent(event.target.value);\r\n  };\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    try {\r\n      await axiosRes.put(`/comments/${id}/`, {\r\n        body: formContent.trim(),\r\n      });\r\n      setComments((prevComments) => ({\r\n        ...prevComments,\r\n        results: prevComments.results.map((comment) => {\r\n          return comment.id === id\r\n            ? {\r\n                ...comment,\r\n                body: formContent.trim(),\r\n                updated_at: \"now\",\r\n              }\r\n            : comment;\r\n        }),\r\n      }));\r\n      setShowEditForm(false);\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Form onSubmit={handleSubmit}>\r\n      <Form.Group className=\"pr-1\">\r\n        <Form.Control\r\n          className={styles.Form}\r\n          as=\"textarea\"\r\n          value={formContent}\r\n          onChange={handleChange}\r\n          rows={2}\r\n        />\r\n      </Form.Group>\r\n      <div className=\"text-right\">\r\n        <button\r\n          className={styles.Button}\r\n          onClick={() => setShowEditForm(false)}\r\n          type=\"button\"\r\n        >\r\n          cancel\r\n        </button>\r\n        <button\r\n          className={styles.Button}\r\n          disabled={!body.trim()}\r\n          type=\"submit\"\r\n        >\r\n          save\r\n        </button>\r\n      </div>\r\n    </Form>\r\n  );\r\n}\r\n\r\nexport default CommentEditForm;","import React, { useState } from \"react\";\r\nimport styles from \"../../styles/Comment.module.css\";\r\nimport { Media } from \"react-bootstrap\";\r\nimport { Link } from \"react-router-dom/cjs/react-router-dom\";\r\nimport Avatar from \"../../components/Avatar\";\r\nimport { useCurrentUser } from \"../../contexts/CurrentUserContext\";\r\nimport { MoreDropdown } from \"../../components/MoreDropdown\";\r\nimport CommentEditForm from \"./CommentEditForm\";\r\nimport { axiosRes } from \"../../api/axiosDefaults\";\r\n\r\nconst Comment = (props) => {\r\n  const {\r\n    id,\r\n    owner,\r\n    profile_id,\r\n    profile_image,\r\n    // post,\r\n    body,\r\n    created_at,\r\n    updated_at,\r\n    // reaction_id,\r\n    // reaction_type_id,\r\n    // replies,\r\n    // reactions_count,\r\n    // popular_reactions,\r\n    setPost,\r\n    setComments,\r\n  } = props;\r\n\r\n  const [showEditForm, setShowEditForm] = useState(false);\r\n\r\n  const currentUser = useCurrentUser();\r\n  const is_owner = currentUser?.username === owner;\r\n\r\n  const handleDelete = async () => {\r\n    try {\r\n      await axiosRes.delete(`/comments/${id}/`);\r\n      setPost((prevPost) => ({\r\n        results: [\r\n          {\r\n            ...prevPost.results[0],\r\n            comments_count: prevPost.results[0].comments_count - 1,\r\n          },\r\n        ],\r\n      }));\r\n\r\n      setComments((prevComments) => ({\r\n        ...prevComments,\r\n        results: prevComments.results.filter((comment) => comment.id !== id),\r\n      }));\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <hr />\r\n      <Media>\r\n        <Link to={`/profiles/${profile_id}`}>\r\n          <Avatar src={profile_image} />\r\n        </Link>\r\n        <Media.Body className=\"align-self-center ml-2\">\r\n          <span>\r\n            <span className={styles.Owner}>{owner}</span>\r\n            <span className={styles.Date}>{updated_at}</span>\r\n          </span>\r\n          <span className={styles.Edited}>\r\n            {created_at !== updated_at && \"Edited\"}\r\n          </span>\r\n          {showEditForm ? (\r\n            <CommentEditForm\r\n              id={id}\r\n              profile_id={profile_id}\r\n              body={body}\r\n              profileImage={profile_image}\r\n              setComments={setComments}\r\n              setShowEditForm={setShowEditForm}\r\n            />\r\n          ) : (\r\n            <p>{body}</p>\r\n          )}\r\n        </Media.Body>\r\n        {is_owner && !showEditForm && (\r\n          <MoreDropdown\r\n            handleEdit={() => setShowEditForm(true)}\r\n            handleDelete={handleDelete}\r\n          />\r\n        )}\r\n      </Media>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Comment;\r\n","import { axiosReq } from \"../api/axiosDefaults\";\r\n\r\nexport const fetchMoreData = async (resource, setResource) => {\r\n  try {\r\n    const { data } = await axiosReq.get(resource.next);\r\n    setResource((prevResource) => ({\r\n      ...prevResource,\r\n      next: data.next,\r\n      results: data.results.reduce((acc, cur) => {\r\n        return acc.some((accResult) => accResult.id === cur.id)\r\n          ? acc\r\n          : [...acc, cur];\r\n      }, prevResource.results),\r\n    }));\r\n  } catch (err) {\r\n    console.error(err);\r\n  }\r\n};\r\n\r\nexport const followHelper = (profile, clickedProfile, following_id) => {\r\n  return profile.id === clickedProfile.id\r\n    ? // profile I clicked on, update its folowers count and set its following id\r\n      {\r\n        ...profile,\r\n        followers_count: profile.followers_count + 1,\r\n        following_id,\r\n      }\r\n    : profile.is_owner\r\n    ? // this is the profile of the logged in user update their following count\r\n      { ...profile, following_count: profile.following_count + 1 }\r\n    : // this is neither the profile the user clicked to follow or the logged in user, return it as is\r\n      profile;\r\n};\r\n\r\nexport const unfollowHelper = (profile, clickedProfile) => {\r\n  return profile.id === clickedProfile.id\r\n    ? {\r\n        // this profile is the clicked profile, update its followers count and set its following id to null\r\n        ...profile,\r\n        followers_count: profile.followers_count - 1,\r\n        following_id: null,\r\n      }\r\n    : profile.is_owner\r\n    ? // if the profile is the logged in user, update their following count\r\n      { ...profile, following_count: profile.following_count - 1 }\r\n    : // if neither, return current profile data as is\r\n      profile;\r\n};\r\n\r\nexport const possessionHelper = (noun) => {\r\n  return noun.toString().endsWith(\"s\") ? `${noun}'` : `${noun}'s`;\r\n};\r\n","import React, { createContext, useContext, useEffect, useState } from \"react\";\r\nimport { axiosRes } from \"../api/axiosDefaults\";\r\nimport { useCurrentUser } from \"./CurrentUserContext\";\r\nimport { followHelper, unfollowHelper } from \"../utils/utils\";\r\n\r\nexport const ProfileDataContext = createContext();\r\nexport const SetProfileDataContext = createContext();\r\n\r\nexport const useProfileData = () => useContext(ProfileDataContext);\r\nexport const useSetProfileData = () => useContext(SetProfileDataContext);\r\n\r\nexport const ProfileDataProvider = ({ children }) => {\r\n  const [profileData, setProfileData] = useState({\r\n    // will use the pageProfile later\r\n    pageProfile: { results: [] },\r\n    popularProfiles: { results: [] },\r\n  });\r\n\r\n  const currentUser = useCurrentUser();\r\n\r\n  const handleFollow = async (clickedProfile) => {\r\n    try {\r\n      const { data } = await axiosRes.post(\"/followers/\", {\r\n        followed: clickedProfile.id,\r\n      });\r\n\r\n      setProfileData((prevState) => ({\r\n        ...prevState,\r\n        pageProfile: {\r\n          results: prevState.pageProfile.results.map((profile) =>\r\n            followHelper(profile, clickedProfile, data.id)\r\n          ),\r\n        },\r\n        popularProfiles: {\r\n          ...prevState.popularProfiles,\r\n          results: prevState.popularProfiles.results.map((profile) =>\r\n            followHelper(profile, clickedProfile, data.id)\r\n          ),\r\n        },\r\n      }));\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  const handleUnfollow = async (clickedProfile) => {\r\n    try {\r\n      await axiosRes.delete(`/followers/${clickedProfile.following_id}/`);\r\n\r\n      setProfileData((prevState) => ({\r\n        ...prevState,\r\n        pageProfile: {\r\n          results: prevState.pageProfile.results.map((profile) =>\r\n            unfollowHelper(profile, clickedProfile)\r\n          ),\r\n        },\r\n        popularProfiles: {\r\n          ...prevState.popularProfiles,\r\n          results: prevState.popularProfiles.results.map((profile) =>\r\n            unfollowHelper(profile, clickedProfile)\r\n          ),\r\n        },\r\n      }));\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const handleMount = async () => {\r\n      try {\r\n        const { data } = await axiosRes.get(\r\n          \"/profiles/?ordering=-followers_count\"\r\n        );\r\n        setProfileData((prevState) => ({\r\n          ...prevState,\r\n          popularProfiles: data,\r\n        }));\r\n      } catch (err) {\r\n        console.error(err);\r\n      }\r\n    };\r\n\r\n    handleMount();\r\n  }, [currentUser]);\r\n\r\n  return (\r\n    <ProfileDataContext.Provider value={profileData}>\r\n      <SetProfileDataContext.Provider\r\n        value={{ setProfileData, handleFollow, handleUnfollow }}\r\n      >\r\n        {children}\r\n      </SetProfileDataContext.Provider>\r\n    </ProfileDataContext.Provider>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport styles from \"../../styles/Profile.module.css\";\r\nimport btnStyles from \"../../styles/Button.module.css\";\r\nimport { useCurrentUser } from \"../../contexts/CurrentUserContext\";\r\nimport { Link } from \"react-router-dom/cjs/react-router-dom.min\";\r\nimport Avatar from \"../../components/Avatar\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport { useSetProfileData } from \"../../contexts/ProfileDataContext\";\r\n\r\nconst Profile = (props) => {\r\n  const { profile, mobile, imageSize = 55 } = props;\r\n  const { id, following_id, image, owner } = profile;\r\n\r\n  const currentUser = useCurrentUser();\r\n  const is_owner = currentUser?.username === owner;\r\n\r\n  const { handleFollow, handleUnfollow } = useSetProfileData();\r\n\r\n  return (\r\n    <div\r\n      className={`my-3 d-flex align-items-center ${mobile && \"flex-column\"}`}\r\n    >\r\n      <div>\r\n        <Link className=\"aling-self-center\" to={`/profiles/${id}`}>\r\n          <Avatar src={image} height={imageSize} />\r\n        </Link>\r\n      </div>\r\n      <div className={`mx-2 ${styles.WordBreak}`}>\r\n        <strong>{owner}</strong>\r\n      </div>\r\n      <div className={`text-right ${!mobile && \"ml-auto\"}`}>\r\n        {!mobile &&\r\n          currentUser &&\r\n          !is_owner &&\r\n          (following_id ? (\r\n            <Button\r\n              className={`${btnStyles.Button} ${btnStyles.BlackOutline}`}\r\n              onClick={() => handleUnfollow(profile)}\r\n            >\r\n              unfollow\r\n            </Button>\r\n          ) : (\r\n            <Button\r\n              className={`${btnStyles.Button} ${btnStyles.Black}`}\r\n              onClick={() => handleFollow(profile)}\r\n            >\r\n              follow\r\n            </Button>\r\n          ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n","import React from \"react\";\r\nimport appStyles from \"../../App.module.css\";\r\nimport { Container } from \"react-bootstrap\";\r\nimport Asset from \"../../components/Asset\";\r\nimport Profile from \"./Profile\";\r\nimport { useProfileData } from \"../../contexts/ProfileDataContext\";\r\n\r\nconst PopularProfiles = ({ mobile }) => {\r\n  const { popularProfiles } = useProfileData();\r\n\r\n  return (\r\n    <Container\r\n      className={`${appStyles.Content} ${\r\n        mobile && \"d-lg-none text-center mb-3\"\r\n      }`}\r\n    >\r\n      {popularProfiles.results.length ? (\r\n        <>\r\n          <p>Most followed profiles</p>\r\n          {mobile ? (\r\n            <div className=\"d-flex justify-content-around\">\r\n              {popularProfiles.results.slice(0, 4).map((profile) => (\r\n                <Profile key={profile.id} profile={profile} mobile />\r\n              ))}\r\n            </div>\r\n          ) : (\r\n            popularProfiles.results.map((profile) => (\r\n              <Profile key={profile.id} profile={profile} />\r\n            ))\r\n          )}\r\n        </>\r\n      ) : (\r\n        <Asset spinner />\r\n      )}\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default PopularProfiles;\r\n","import React, { useEffect, useState } from \"react\";\r\n\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Container from \"react-bootstrap/Container\";\r\n\r\nimport appStyles from \"../../App.module.css\";\r\nimport { useParams } from \"react-router-dom/cjs/react-router-dom.min\";\r\nimport { axiosReq } from \"../../api/axiosDefaults\";\r\nimport { useCurrentUser } from \"../../contexts/CurrentUserContext\";\r\n\r\nimport Post from \"./Post\";\r\nimport Asset from \"../../components/Asset\";\r\nimport CommentCreateForm from \"../comments/CommentCreateForm\";\r\nimport Comment from \"../comments/Comment\";\r\nimport InfiniteScroll from \"react-infinite-scroll-component\";\r\nimport { fetchMoreData } from \"../../utils/utils\";\r\nimport PopularProfiles from \"../profiles/PopularProfiles\";\r\n\r\nconst NoResults = <i className=\"fa-solid fa-ghost\"></i>;\r\nconst message = \"Post not found\";\r\n\r\nfunction PostPage() {\r\n  const { id } = useParams();\r\n  const [post, setPost] = useState({ results: [] });\r\n  const [hasLoaded, setHasLoaded] = useState(false);\r\n\r\n  const currentUser = useCurrentUser();\r\n  const profile_image = currentUser?.profile_image;\r\n  const [comments, setComments] = useState({ results: [] });\r\n\r\n  useEffect(() => {\r\n    const handleMount = async () => {\r\n      try {\r\n        const [{ data: post }, { data: comments }] = await Promise.all([\r\n          axiosReq.get(`/posts/${id}/`),\r\n          axiosReq.get(`/comments/?post=${id}`),\r\n        ]);\r\n        setPost({ results: [post] });\r\n        setHasLoaded(true);\r\n        setComments(comments);\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    };\r\n    handleMount();\r\n  }, [id]);\r\n\r\n  return (\r\n    <Row className=\"h-100\">\r\n      <Col className=\"py-2 p-0 p-lg-2\" lg={8}>\r\n        <PopularProfiles mobile />\r\n        {hasLoaded ? (\r\n          post.results.length ? (\r\n            <>\r\n              <Post {...post.results[0]} setPosts={setPost} postPage />\r\n              <Container className={appStyles.Content}>\r\n                {currentUser ? (\r\n                  <CommentCreateForm\r\n                    profile_id={currentUser.profile_id}\r\n                    profileImage={profile_image}\r\n                    post={id}\r\n                    setPost={setPost}\r\n                    setComments={setComments}\r\n                  />\r\n                ) : comments.results.length ? (\r\n                  \"Comments\"\r\n                ) : null}\r\n\r\n                {comments.results.length ? (\r\n                  <InfiniteScroll\r\n                    children={comments.results.map((comment) => (\r\n                      <Comment\r\n                        key={comment.id}\r\n                        {...comment}\r\n                        setPost={setPost}\r\n                        setComments={setComments}\r\n                      />\r\n                    ))}\r\n                    dataLength={comments.results.length}\r\n                    loader={<Asset spinner />}\r\n                    hasMore={!!comments.next}\r\n                    next={() => fetchMoreData(comments, setComments)}\r\n                  />\r\n                ) : currentUser ? (\r\n                  <span>No comments yet, be the first to comment!</span>\r\n                ) : (\r\n                  <span>Please log in to comment</span>\r\n                )}\r\n              </Container>\r\n            </>\r\n          ) : (\r\n            <Container className={appStyles.Content}>\r\n              <Asset icon={NoResults} message={message} />\r\n            </Container>\r\n          )\r\n        ) : (\r\n          <Container className={appStyles.Content}>\r\n            <Asset spinner />\r\n          </Container>\r\n        )}\r\n      </Col>\r\n      <Col lg={4} className=\"d-none d-lg-block p-0 p-lg-2\">\r\n        <PopularProfiles />\r\n      </Col>\r\n    </Row>\r\n  );\r\n}\r\n\r\nexport default PostPage;\r\n","import React, { createContext, useContext, useEffect, useState } from \"react\";\r\nimport { useCurrentUser } from \"./CurrentUserContext\";\r\n\r\nexport const GeoPositionContext = createContext();\r\nexport const SetGeoPositionContext = createContext();\r\n\r\nexport const useGeoPosition = () => useContext(GeoPositionContext);\r\nexport const useSetGeoPosition = () => useContext(SetGeoPositionContext);\r\n\r\nexport const GeoPositionProvider = ({ children }) => {\r\n  const currentUser = useCurrentUser();\r\n  const [geoPosition, setGeoPosition] = useState({\r\n    home: {\r\n      // Set default home location to current user's registered location\r\n      // else to Royal Greenwich Observatory as a default value\r\n      latitude: currentUser?.latitude || 51.4768547,\r\n      longitude: currentUser?.longitude || -0.0017877,\r\n    },\r\n    current: {\r\n      latitude: 0,\r\n      longitude: 0,\r\n    },\r\n    radius: 30, // Default radius in km\r\n    reach: {\r\n      latNorth: 0,\r\n      latSouth: 0,\r\n      lonEast: 0,\r\n      lonWest: 0,\r\n    },\r\n    isHome: false,\r\n  });\r\n\r\n  const handleGeoPosUpdate = async (latitude, longitude, radius) => {\r\n    try {\r\n      setGeoPosition((prevState) => ({\r\n        ...prevState,\r\n        current: {\r\n          latitude,\r\n          longitude,\r\n        },\r\n        radius: radius, // Default radius in km\r\n        reach: {\r\n          latNorth: latitude + radius / 111,\r\n          latSouth: latitude - radius / 111,\r\n          lonEast: longitude + radius / (111 * Math.cos(latitude)),\r\n          lonWest: longitude - radius / (111 * Math.cos(latitude)),\r\n        },\r\n        isHome: false,\r\n      }));\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  const handleGeoPosReset = async (radius) => {\r\n    try {\r\n      setGeoPosition((prevState) => ({\r\n        ...prevState,\r\n        current: {\r\n          latitude: prevState.home.latitude,\r\n          longitude: prevState.home.longitude,\r\n        },\r\n        radius: radius, // Default radius in km\r\n        reach: {\r\n          latNorth: prevState.home.latitude + 30 / 111,\r\n          latSouth: prevState.home.latitude - 30 / 111,\r\n          lonEast:\r\n            prevState.home.longitude +\r\n            30 / (111 * Math.cos(prevState.home.latitude)),\r\n          lonWest:\r\n            prevState.home.longitude -\r\n            30 / (111 * Math.cos(prevState.home.latitude)),\r\n        },\r\n        isHome: true,\r\n      }));\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  const handleRadiusUpdate = async (radius) => {\r\n    try {\r\n      setGeoPosition((prevState) => ({\r\n        ...prevState,\r\n        radius: radius, // Default radius in km\r\n        reach: {\r\n          latNorth: prevState.current.latitude + radius / 111,\r\n          latSouth: prevState.current.latitude - radius / 111,\r\n          lonEast:\r\n            prevState.current.longitude +\r\n            radius / (111 * Math.cos(prevState.current.latitude)),\r\n          lonWest:\r\n            prevState.current.longitude -\r\n            radius / (111 * Math.cos(prevState.current.latitude)),\r\n        },\r\n      }));\r\n    } catch (err) {\r\n      console.error(err);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const handleMount = () => {\r\n      if (navigator.geolocation) {\r\n        navigator.geolocation.getCurrentPosition((position) => {\r\n          handleGeoPosUpdate(\r\n            position.coords.latitude,\r\n            position.coords.longitude,\r\n            geoPosition.radius\r\n          );\r\n          setGeoPosition((prevState) => ({\r\n            ...prevState,\r\n            isHome: false,\r\n          }));\r\n        });\r\n      } else {\r\n        handleGeoPosUpdate(\r\n          geoPosition.home.latitude,\r\n          geoPosition.home.longitude,\r\n          geoPosition.radius\r\n        );\r\n        setGeoPosition((prevState) => ({\r\n          ...prevState,\r\n          isHome: true,\r\n        }));\r\n        // Fallback to default location if geolocation is not supported\r\n        console.error(\"Geolocation is not supported by this browser.\");\r\n      }\r\n    };\r\n\r\n    handleMount();\r\n  });\r\n\r\n  return (\r\n    <GeoPositionContext.Provider value={geoPosition}>\r\n      <SetGeoPositionContext.Provider\r\n        value={{\r\n          setGeoPosition,\r\n          handleGeoPosUpdate,\r\n          handleGeoPosReset,\r\n          handleRadiusUpdate,\r\n          geoPosition,\r\n        }}\r\n      >\r\n        {children}\r\n      </SetGeoPositionContext.Provider>\r\n    </GeoPositionContext.Provider>\r\n  );\r\n};\r\n","import React, { useEffect, useState } from \"react\";\r\n\r\nimport Form from \"react-bootstrap/Form\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Container from \"react-bootstrap/Container\";\r\nimport InfiniteScroll from \"react-infinite-scroll-component\";\r\n\r\nimport appStyles from \"../../App.module.css\";\r\nimport styles from \"../../styles/PostsPage.module.css\";\r\nimport btnStyles from \"../../styles/Button.module.css\";\r\nimport { useLocation } from \"react-router-dom/cjs/react-router-dom.min\";\r\nimport { axiosReq } from \"../../api/axiosDefaults\";\r\nimport Post from \"./Post\";\r\nimport Asset from \"../../components/Asset\";\r\nimport { fetchMoreData } from \"../../utils/utils\";\r\nimport PopularProfiles from \"../profiles/PopularProfiles\";\r\nimport { useSetGeoPosition } from \"../../contexts/GeoPositionContext\";\r\nimport { Button } from \"react-bootstrap\";\r\n\r\nconst NoResults = <i className=\"fa-solid fa-ghost\"></i>;\r\n\r\nfunction PostsPage({ message, filter = \"\", nearMe }) {\r\n  const [posts, setPosts] = useState({ results: [] });\r\n  const [hasLoaded, setHasLoaded] = useState(false);\r\n  const { pathname } = useLocation();\r\n\r\n  const { handleGeoPosUpdate, handleGeoPosReset, handleRadiusUpdate } =\r\n    useSetGeoPosition();\r\n\r\n  const [isHome, setIsHome] = useState(false);\r\n\r\n  const [query, setQuery] = useState(\"\");\r\n\r\n  const [radius, setRadius] = useState(30); // Default radius in km\r\n\r\n  useEffect(() => {\r\n    const fetchPosts = async () => {\r\n      try {\r\n        const { data } = await axiosReq.get(\r\n          `/posts/?${filter}&search=${query}`\r\n        );\r\n        setPosts(data);\r\n        setHasLoaded(true);\r\n      } catch (err) {\r\n        console.error(err);\r\n      }\r\n    };\r\n\r\n    setHasLoaded(false);\r\n    const timer = setTimeout(() => {\r\n      fetchPosts();\r\n    }, 1000); // 1 second delay\r\n    return () => {\r\n      clearTimeout(timer);\r\n    };\r\n  }, [filter, pathname, query]);\r\n\r\n  function handleLiveLocationClick() {\r\n    if (navigator.geolocation) {\r\n      navigator.geolocation.getCurrentPosition(success, error);\r\n    } else {\r\n      console.log(\"Geolocation is not supported by this browser.\");\r\n    }\r\n  }\r\n\r\n  function success(position) {\r\n    const latitude = position.coords.latitude;\r\n    const longitude = position.coords.longitude;\r\n    handleGeoPosUpdate(latitude, longitude, radius);\r\n  }\r\n\r\n  function error() {\r\n    console.log(\"Unable to retrieve your location.\");\r\n  }\r\n\r\n  return (\r\n    <Row className=\"h-100\">\r\n      <Col className=\"py-2 p-0 p-lg-2\" lg={8}>\r\n        <PopularProfiles mobile />\r\n        <div className={nearMe ? \"d-flex justify-content-between\" : \"\"}>\r\n          <i className={`fas fa-search ${styles.SearchIcon}`} />\r\n          <Form\r\n            className={styles.SearchBar}\r\n            onSubmit={(e) => e.preventDefault()}\r\n          >\r\n            <Form.Control\r\n              value={query}\r\n              onChange={(e) => setQuery(e.target.value)}\r\n              type=\"text\"\r\n              className=\"mr-sm-2\"\r\n              placeholder=\"Search posts\"\r\n            />\r\n          </Form>\r\n          {nearMe && (\r\n            <>\r\n              <Form\r\n                className={`${styles.RadiusBar} d-flex`}\r\n                onSubmit={(e) => e.preventDefault()}\r\n              >\r\n                <Form.Label className=\"mt-2\">Radius (km)</Form.Label>\r\n                <Form.Control\r\n                  value={radius}\r\n                  onChange={(e) => {\r\n                    setRadius(e.target.value);\r\n                    handleRadiusUpdate(e.target.value);\r\n                  }}\r\n                  type=\"number\"\r\n                  min=\"1\"\r\n                />\r\n                <Button\r\n                  onClick={() => {\r\n                    setIsHome(false);\r\n                    handleLiveLocationClick();\r\n                  }}\r\n                  className={btnStyles.SqButton}\r\n                  aria-label=\"Live Location\"\r\n                  active={!isHome}\r\n                >\r\n                  <i className=\"fas fa-map-marker-alt\" />\r\n                </Button>\r\n                <Button\r\n                  onClick={() => {\r\n                    setIsHome(true);\r\n                    handleGeoPosReset();\r\n                  }}\r\n                  className={btnStyles.SqButton}\r\n                  aria-label=\"Home Location\"\r\n                  active={isHome}\r\n                >\r\n                  <i className=\"fas fa-home\" />\r\n                </Button>\r\n              </Form>\r\n            </>\r\n          )}\r\n        </div>\r\n        {hasLoaded ? (\r\n          <>\r\n            {posts.results.length ? (\r\n              <InfiniteScroll\r\n                children={posts.results.map((post) => (\r\n                  <Post key={post.id} {...post} setPosts={setPosts} />\r\n                ))}\r\n                dataLength={posts.results.length}\r\n                loader={<Asset spinner />}\r\n                hasMore={!!posts.next}\r\n                next={() => fetchMoreData(posts, setPosts)}\r\n              />\r\n            ) : (\r\n              <Container className={appStyles.Content}>\r\n                <Asset icon={NoResults} message={message} />\r\n              </Container>\r\n            )}\r\n          </>\r\n        ) : (\r\n          <Container className={appStyles.Content}>\r\n            <Asset spinner />\r\n          </Container>\r\n        )}\r\n      </Col>\r\n      <Col md={4} className=\"d-none d-lg-block p-0 p-lg-2\">\r\n        <PopularProfiles />\r\n      </Col>\r\n    </Row>\r\n  );\r\n}\r\n\r\nexport default PostsPage;\r\n","import React, { useEffect, useRef, useState } from \"react\";\r\n\r\nimport Form from \"react-bootstrap/Form\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Container from \"react-bootstrap/Container\";\r\n\r\nimport styles from \"../../styles/PostCreateEditForm.module.css\";\r\nimport appStyles from \"../../App.module.css\";\r\nimport btnStyles from \"../../styles/Button.module.css\";\r\nimport Asset from \"../../components/Asset\";\r\nimport { Alert, Image } from \"react-bootstrap\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { axiosReq } from \"../../api/axiosDefaults\";\r\nimport { useParams } from \"react-router-dom/cjs/react-router-dom\";\r\n\r\nconst Upload = <i className=\"fa-solid fa-cloud-arrow-up\"></i>;\r\n\r\nfunction PostEditForm() {\r\n  const [errors, setErrors] = useState({});\r\n\r\n  const [postData, setPostData] = useState({\r\n    title: \"\",\r\n    body: \"\",\r\n    media: \"\",\r\n    tags: \"\",\r\n    listing_type: 3,\r\n    latitude: null,\r\n    longitude: null,\r\n  });\r\n\r\n  const { title, body, media, tags, listing_type, latitude, longitude } =\r\n    postData;\r\n\r\n  const [mediaData, setMediaData] = useState({\r\n    media_id: 0,\r\n    media_type: 0,\r\n    image: \"\",\r\n    video: \"\",\r\n  });\r\n\r\n  const imageInput = useRef(null);\r\n  const history = useHistory();\r\n  const { id } = useParams();\r\n\r\n  useEffect(() => {\r\n    const handleMount = async () => {\r\n      try {\r\n        const { data } = await axiosReq.get(`/posts/${id}/`);\r\n        const {\r\n          title,\r\n          body,\r\n          media,\r\n          tags,\r\n          listing_type,\r\n          is_owner,\r\n          latitude,\r\n          longitude,\r\n        } = data;\r\n\r\n        is_owner\r\n          ? setPostData({\r\n              title,\r\n              body,\r\n              media,\r\n              tags,\r\n              listing_type,\r\n              latitude,\r\n              longitude,\r\n            })\r\n          : history.push(\"/discover\");\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    };\r\n\r\n    handleMount();\r\n  }, [id, history]);\r\n\r\n  useEffect(() => {\r\n    const getMedia = async () => {\r\n      try {\r\n        const { data } = await axiosReq.get(`/medias/${media[0]}/`);\r\n        const { id: media_id, media_type, image, video, is_owner } = data;\r\n\r\n        is_owner\r\n          ? setMediaData({ media_id, media_type, image, video })\r\n          : history.push(\"/discover\");\r\n      } catch (err) {\r\n        console.log(err);\r\n      }\r\n    };\r\n\r\n    if (media.length) {\r\n      getMedia();\r\n    }\r\n  }, [media, history]);\r\n\r\n  const handleChange = (event) => {\r\n    setPostData({\r\n      ...postData,\r\n      [event.target.name]: event.target.value,\r\n    });\r\n  };\r\n\r\n  const handleChangeImage = (event) => {\r\n    if (event.target.files.length) {\r\n      URL.revokeObjectURL(mediaData.image);\r\n      setMediaData({\r\n        ...mediaData,\r\n        image: URL.createObjectURL(event.target.files[0]),\r\n      });\r\n    }\r\n  };\r\n\r\n  function handleLiveLocationClick() {\r\n    if (navigator.geolocation) {\r\n      navigator.geolocation.getCurrentPosition(success, error);\r\n    } else {\r\n      console.log(\"Geolocation is not supported by this browser.\");\r\n    }\r\n  }\r\n\r\n  function success(position) {\r\n    setPostData({\r\n      ...postData,\r\n      latitude: position.coords.latitude,\r\n      longitude: position.coords.longitude,\r\n    });\r\n  }\r\n\r\n  function error() {\r\n    console.log(\"Unable to retrieve your location.\");\r\n  }\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n\r\n    if (imageInput?.current?.files[0] === undefined) {\r\n      console.log(\"no files to upload, submitting post\");\r\n      handlePostSubmit(mediaData.media_id);\r\n    } else {\r\n      const formData = new FormData();\r\n      if (imageInput?.current?.files[0]) {\r\n        console.log(\"seeing a file to upload\");\r\n        formData.append(\"image\", imageInput.current.files[0]);\r\n      }\r\n\r\n      try {\r\n        const { data } = await axiosReq.post(\"/medias/\", formData);\r\n        console.log(\"media uploaded: \", data);\r\n        handlePostSubmit(data?.id);\r\n      } catch (err) {\r\n        console.log(err);\r\n        if (err.response?.status !== 401) {\r\n          setErrors(err.response?.data);\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  const handlePostSubmit = async (medias) => {\r\n    const formData = new FormData();\r\n\r\n    formData.append(\"title\", title);\r\n    formData.append(\"body\", body);\r\n    console.log(medias);\r\n    if (medias) formData.append(\"media\", medias);\r\n    if (tags.length) formData.append(\"tags\", tags);\r\n    formData.append(\"listing_type\", listing_type);\r\n    formData.append(\"latitude\", latitude);\r\n    formData.append(\"longitude\", longitude);\r\n\r\n    try {\r\n      console.log(\"submitting post data: \", formData);\r\n      await axiosReq.put(`/posts/${id}/`, formData);\r\n      history.push(`/posts/${id}`);\r\n    } catch (err) {\r\n      console.log(err);\r\n      if (err.response?.status !== 401) {\r\n        setErrors(err.response?.data);\r\n      }\r\n    }\r\n  };\r\n\r\n  const textFields = (\r\n    <div className=\"text-center\">\r\n      <Form.Group controlId=\"title\">\r\n        <Form.Label>Title</Form.Label>\r\n        <Form.Control\r\n          type=\"text\"\r\n          name=\"title\"\r\n          value={title}\r\n          onChange={handleChange}\r\n          placeholder=\"Title goes here\"\r\n        />\r\n      </Form.Group>\r\n      {errors?.title?.map((message, idx) => (\r\n        <Alert variant=\"warning\" key={idx}>\r\n          {message}\r\n        </Alert>\r\n      ))}\r\n      <Form.Group controlId=\"body\">\r\n        <Form.Label>body</Form.Label>\r\n        <Form.Control\r\n          as=\"textarea\"\r\n          name=\"body\"\r\n          rows={6}\r\n          value={body}\r\n          onChange={handleChange}\r\n          placeholder=\"Post body here\"\r\n        />\r\n      </Form.Group>\r\n      {errors?.body?.map((message, idx) => (\r\n        <Alert variant=\"warning\" key={idx}>\r\n          {message}\r\n        </Alert>\r\n      ))}\r\n      <Form.Group>\r\n        <Form.Label>Home - latitude</Form.Label>\r\n        <Form.Control\r\n          type=\"text\"\r\n          value={latitude}\r\n          onChange={handleChange}\r\n          name=\"latitude\"\r\n          placeholder=\"Latitude\"\r\n        />\r\n        <Form.Label>Home - longitude</Form.Label>\r\n        <Form.Control\r\n          type=\"text\"\r\n          value={longitude}\r\n          onChange={handleChange}\r\n          name=\"longitude\"\r\n          placeholder=\"Longitude\"\r\n        />\r\n        {errors?.latitude?.map((message, idx) => (\r\n          <Alert variant=\"warning\" key={idx}>\r\n            {message}\r\n          </Alert>\r\n        ))}\r\n        {errors?.longitude?.map((message, idx) => (\r\n          <Alert variant=\"warning\" key={idx}>\r\n            {message}\r\n          </Alert>\r\n        ))}\r\n        <div className=\"my-2\">\r\n          <Button\r\n            onClick={() => {\r\n              handleLiveLocationClick();\r\n            }}\r\n            className={`${btnStyles.Button} ${btnStyles.Blue}`}\r\n            aria-label=\"Get Live Location\"\r\n          >\r\n            Get Live Location\r\n          </Button>\r\n        </div>\r\n      </Form.Group>\r\n      <Form.Group as={Row} controlId=\"tags\">\r\n        <Form.Label column sm={2}>\r\n          Tags\r\n        </Form.Label>\r\n        <Col sm={10}>\r\n          <Form.Control\r\n            type=\"text\"\r\n            name=\"tags\"\r\n            value={tags}\r\n            onChange={handleChange}\r\n            placeholder=\"separate tags with spaces\"\r\n          />\r\n        </Col>\r\n      </Form.Group>\r\n      {errors?.tags?.map((message, idx) => (\r\n        <Alert variant=\"warning\" key={idx}>\r\n          {message}\r\n        </Alert>\r\n      ))}\r\n      <Form.Group as={Row} controlId=\"listing_type\">\r\n        <Form.Label column sm={5}>\r\n          Listing Type\r\n        </Form.Label>\r\n        <Col sm={7}>\r\n          <Form.Control\r\n            as=\"select\"\r\n            name=\"listing_type\"\r\n            value={listing_type}\r\n            onChange={handleChange}\r\n          >\r\n            <option value={0}>Draft</option>\r\n            <option value={1}>Private</option>\r\n            <option value={2}>Unlisted</option>\r\n            <option value={3}>Public</option>\r\n          </Form.Control>\r\n        </Col>\r\n      </Form.Group>\r\n      {errors?.listing_type?.map((message, idx) => (\r\n        <Alert variant=\"warning\" key={idx}>\r\n          {message}\r\n        </Alert>\r\n      ))}\r\n\r\n      <Button\r\n        className={`${btnStyles.Button} ${btnStyles.Blue}`}\r\n        onClick={() => history.goBack()}\r\n      >\r\n        cancel\r\n      </Button>\r\n      <Button className={`${btnStyles.Button} ${btnStyles.Blue}`} type=\"submit\">\r\n        save\r\n      </Button>\r\n      {errors?.non_field_errors?.map((message, idx) => (\r\n        <Alert variant=\"warning\" key={idx} className=\"mt-3\">\r\n          {message}\r\n        </Alert>\r\n      ))}\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <Form onSubmit={handleSubmit}>\r\n      <Row>\r\n        <Col className=\"py-2 p-0 p-md-2\" md={7} lg={8}>\r\n          <Container\r\n            className={`${appStyles.Content} ${styles.Container} d-flex flex-column justify-content-center`}\r\n          >\r\n            <Form.Group className=\"text-center\">\r\n              {media.length || imageInput?.current?.files[0] ? (\r\n                <>\r\n                  <figure>\r\n                    <Image\r\n                      className={appStyles.Image}\r\n                      src={mediaData.image}\r\n                      rounded\r\n                    />\r\n                    {/* <video className={appStyles.Image} src={media} controls /> */}\r\n                  </figure>\r\n                  <div>\r\n                    <Form.Label\r\n                      className={`${btnStyles.Button} ${btnStyles.Blue} btn btn-primary`}\r\n                      htmlFor=\"media-upload\"\r\n                    >\r\n                      Change the image\r\n                    </Form.Label>\r\n                  </div>\r\n                </>\r\n              ) : (\r\n                <Form.Label\r\n                  className=\"d-flex justify-content-center\"\r\n                  htmlFor=\"media-upload\"\r\n                >\r\n                  <Asset\r\n                    icon={Upload}\r\n                    message=\"Click or tap to upload an image\"\r\n                  />\r\n                </Form.Label>\r\n              )}\r\n\r\n              <Form.File\r\n                id=\"media-upload\"\r\n                accept=\"image/*\"\r\n                onChange={handleChangeImage}\r\n                ref={imageInput}\r\n              />\r\n            </Form.Group>\r\n            <div className=\"d-md-none\">{textFields}</div>\r\n          </Container>\r\n        </Col>\r\n        <Col md={5} lg={4} className=\"d-none d-md-block p-0 p-md-2\">\r\n          <Container className={appStyles.Content}>{textFields}</Container>\r\n        </Col>\r\n      </Row>\r\n    </Form>\r\n  );\r\n}\r\n\r\nexport default PostEditForm;\r\n","import React from \"react\";\r\nimport InfiniteScroll from \"react-infinite-scroll-component\";\r\nimport { fetchMoreData, possessionHelper } from \"../../utils/utils\";\r\nimport Asset from \"../../components/Asset\";\r\nimport Post from \"../posts/Post\";\r\n\r\nconst NoResults = <i className=\"fa-solid fa-ghost\"></i>;\r\n\r\nconst ProfilePosts = (props) => {\r\n  const { profile, profilePosts, setProfilePosts, profileView } = props;\r\n  return (\r\n    <>\r\n      <hr />\r\n      <p className=\"text-center\">\r\n        {possessionHelper(`${profile?.owner}`)} {profileView}\r\n      </p>\r\n      <hr />\r\n      {profilePosts.results.length ? (\r\n        <InfiniteScroll\r\n          children={profilePosts.results.map((post) => (\r\n            <Post key={post.id} {...post} setPosts={setProfilePosts} />\r\n          ))}\r\n          dataLength={profilePosts.results.length}\r\n          loader={<Asset spinner />}\r\n          hasMore={!!profilePosts.next}\r\n          next={() => fetchMoreData(profilePosts, setProfilePosts)}\r\n        />\r\n      ) : (\r\n        <Asset icon={NoResults} message=\"No posts to display\" />\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ProfilePosts;\r\n","import React, { useEffect, useState } from \"react\";\r\n\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Container from \"react-bootstrap/Container\";\r\n\r\nimport Asset from \"../../components/Asset\";\r\n\r\nimport styles from \"../../styles/ProfilePage.module.css\";\r\nimport appStyles from \"../../App.module.css\";\r\nimport btnStyles from \"../../styles/Button.module.css\";\r\n\r\nimport PopularProfiles from \"./PopularProfiles\";\r\nimport { useCurrentUser } from \"../../contexts/CurrentUserContext\";\r\nimport { useParams } from \"react-router-dom/cjs/react-router-dom.min\";\r\nimport { axiosReq } from \"../../api/axiosDefaults\";\r\nimport {\r\n  useProfileData,\r\n  useSetProfileData,\r\n} from \"../../contexts/ProfileDataContext\";\r\nimport { Button, Image, Nav } from \"react-bootstrap\";\r\nimport { ProfileEditDropdown } from \"../../components/MoreDropdown\";\r\nimport ProfilePosts from \"./ProfilePosts\";\r\n\r\nfunction ProfilePage() {\r\n  const [hasLoaded, setHasLoaded] = useState(false);\r\n  const currentUser = useCurrentUser();\r\n  const { id } = useParams();\r\n  const { setProfileData, handleFollow, handleUnfollow } = useSetProfileData();\r\n  const { pageProfile } = useProfileData();\r\n  const [profile] = pageProfile.results;\r\n  const is_owner = currentUser?.username === profile?.owner;\r\n  const [profilePosts, setProfilePosts] = useState({ results: [] });\r\n  const [profileView, setProfileView] = useState(\"posts\");\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const [{ data: pageProfile }, { data: profilePosts }] =\r\n          await Promise.all([\r\n            axiosReq.get(`/profiles/${id}/`),\r\n            profileView === \"posts\"\r\n              ? axiosReq.get(`/posts/?owner__profile=${id}`)\r\n              : profileView === \"comments\"\r\n              ? axiosReq.get(`/posts/?comments__owner__profile=${id}`)\r\n              : axiosReq.get(`/posts/?reactions__owner__profile=${id}`),\r\n            axiosReq.get(`/posts/?owner__profile=${id}`),\r\n          ]);\r\n        setProfileData((prevState) => ({\r\n          ...prevState,\r\n          pageProfile: { results: [pageProfile] },\r\n        }));\r\n\r\n        setProfilePosts(profilePosts);\r\n\r\n        setHasLoaded(true);\r\n      } catch (err) {\r\n        console.error(err);\r\n      }\r\n    };\r\n    fetchData();\r\n  }, [id, profileView, setProfileData]);\r\n\r\n  const mainProfile = (\r\n    <>\r\n      {profile?.is_owner && <ProfileEditDropdown id={profile?.id} />}\r\n      <Row noGutters className=\"px-3 text-center\">\r\n        <Col lg={3} className=\"text-lg-left\">\r\n          <Image\r\n            className={styles.ProfileImage}\r\n            src={profile?.image}\r\n            roundedCircle\r\n          />\r\n        </Col>\r\n        <Col lg={6}>\r\n          <h3 className=\"m-2\">{profile?.owner}</h3>\r\n          <Row className=\"justify-content-center no-gutters\">\r\n            <Col xs={3} className=\"my-2 mx-1\">\r\n              <div>{profile?.posts_count}</div>\r\n              <div>posts</div>\r\n            </Col>\r\n            <Col xs={3} className=\"my-2 mx-1\">\r\n              <div>{profile?.followers_count}</div>\r\n              <div>followers</div>\r\n            </Col>\r\n            <Col xs={3} className=\"my-2 mx-1\">\r\n              <div>{profile?.following_count}</div>\r\n              <div>following</div>\r\n            </Col>\r\n          </Row>\r\n        </Col>\r\n        <Col lg={3} className=\"text-lg-right\">\r\n          {currentUser &&\r\n            !is_owner &&\r\n            (profile?.following_id ? (\r\n              <Button\r\n                className={`${btnStyles.Button} ${btnStyles.BlackOutline}`}\r\n                onClick={() => handleUnfollow(profile)}\r\n              >\r\n                unfollow\r\n              </Button>\r\n            ) : (\r\n              <Button\r\n                className={`${btnStyles.Button} ${btnStyles.Black}`}\r\n                onClick={() => handleFollow(profile)}\r\n              >\r\n                follow\r\n              </Button>\r\n            ))}\r\n        </Col>\r\n        {profile?.content && <Col className=\"p-3\">{profile.content}</Col>}\r\n      </Row>\r\n    </>\r\n  );\r\n\r\n  const profileViewSelector = (\r\n    <>\r\n      <Nav justify variant=\"tabs\" defaultActiveKey=\"posts\">\r\n        <Nav.Item>\r\n          <Nav.Link eventKey=\"posts\" onClick={() => setProfileView(\"posts\")}>\r\n            Posts created\r\n          </Nav.Link>\r\n        </Nav.Item>\r\n        <Nav.Item>\r\n          <Nav.Link\r\n            eventKey=\"comments\"\r\n            onClick={() => setProfileView(\"comments\")}\r\n          >\r\n            Posts commented on\r\n          </Nav.Link>\r\n        </Nav.Item>\r\n        <Nav.Item>\r\n          <Nav.Link\r\n            eventKey=\"reactions\"\r\n            onClick={() => setProfileView(\"reactions\")}\r\n          >\r\n            Posts reacted to\r\n          </Nav.Link>\r\n        </Nav.Item>\r\n      </Nav>\r\n    </>\r\n  );\r\n\r\n  return (\r\n    <Row>\r\n      <Col className=\"py-2 p-0 p-lg-2\" lg={8}>\r\n        <PopularProfiles mobile />\r\n        <Container className={appStyles.Content}>\r\n          {hasLoaded ? (\r\n            <>\r\n              {mainProfile}\r\n              {profileViewSelector}\r\n              <ProfilePosts\r\n                profile={profile}\r\n                profilePosts={profilePosts}\r\n                setProfilePosts={setProfilePosts}\r\n                profileView={`${profileView}`}\r\n              />\r\n            </>\r\n          ) : (\r\n            <Asset spinner />\r\n          )}\r\n        </Container>\r\n      </Col>\r\n      <Col lg={4} className=\"d-none d-lg-block p-0 p-lg-2\">\r\n        <PopularProfiles />\r\n      </Col>\r\n    </Row>\r\n  );\r\n}\r\n\r\nexport default ProfilePage;\r\n","import React, { useEffect, useState } from \"react\";\r\n\r\nimport Alert from \"react-bootstrap/Alert\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Container from \"react-bootstrap/Container\";\r\nimport Form from \"react-bootstrap/Form\";\r\nimport Row from \"react-bootstrap/Row\";\r\n\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\nimport { axiosRes } from \"../../api/axiosDefaults\";\r\nimport {\r\n  useCurrentUser,\r\n  useSetCurrentUser,\r\n} from \"../../contexts/CurrentUserContext\";\r\n\r\nimport btnStyles from \"../../styles/Button.module.css\";\r\nimport appStyles from \"../../App.module.css\";\r\nimport { useRedirect } from \"../../hooks/useRedirect\";\r\n\r\nconst UsernameForm = () => {\r\n  useRedirect(\"loggedOut\");\r\n  const [username, setUsername] = useState(\"\");\r\n  const [errors, setErrors] = useState({});\r\n\r\n  const history = useHistory();\r\n  const { id } = useParams();\r\n\r\n  const currentUser = useCurrentUser();\r\n  const setCurrentUser = useSetCurrentUser();\r\n\r\n  useEffect(() => {\r\n    if (currentUser?.profile_id?.toString() === id) {\r\n      setUsername(currentUser.username);\r\n    } else {\r\n      history.push(\"/\");\r\n    }\r\n  }, [currentUser, history, id]);\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    try {\r\n      await axiosRes.put(\"/dj-rest-auth/user/\", {\r\n        username,\r\n      });\r\n      setCurrentUser((prevUser) => ({\r\n        ...prevUser,\r\n        username,\r\n      }));\r\n      history.goBack();\r\n    } catch (err) {\r\n      console.log(err);\r\n      setErrors(err.response?.data);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Row>\r\n      <Col className=\"py-2 mx-auto text-center\" md={6}>\r\n        <Container className={appStyles.Content}>\r\n          <Form onSubmit={handleSubmit} className=\"my-2\">\r\n            <Form.Group>\r\n              <Form.Label>Change username</Form.Label>\r\n              <Form.Control\r\n                placeholder=\"username\"\r\n                type=\"text\"\r\n                value={username}\r\n                onChange={(event) => setUsername(event.target.value)}\r\n              />\r\n            </Form.Group>\r\n            {errors?.username?.map((message, idx) => (\r\n              <Alert key={idx} variant=\"warning\">\r\n                {message}\r\n              </Alert>\r\n            ))}\r\n            <Button\r\n              className={`${btnStyles.Button} ${btnStyles.Blue}`}\r\n              onClick={() => history.goBack()}\r\n            >\r\n              cancel\r\n            </Button>\r\n            <Button\r\n              className={`${btnStyles.Button} ${btnStyles.Blue}`}\r\n              type=\"submit\"\r\n            >\r\n              save\r\n            </Button>\r\n          </Form>\r\n        </Container>\r\n      </Col>\r\n    </Row>\r\n  );\r\n};\r\n\r\nexport default UsernameForm;","import React, { useEffect, useState } from \"react\";\r\n\r\nimport Alert from \"react-bootstrap/Alert\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Container from \"react-bootstrap/Container\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Form from \"react-bootstrap/Form\";\r\n\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\nimport { axiosRes } from \"../../api/axiosDefaults\";\r\nimport { useCurrentUser } from \"../../contexts/CurrentUserContext\";\r\n\r\nimport btnStyles from \"../../styles/Button.module.css\";\r\nimport appStyles from \"../../App.module.css\";\r\nimport { useRedirect } from \"../../hooks/useRedirect\";\r\n\r\nconst UserPasswordForm = () => {\r\n  useRedirect(\"loggedOut\");\r\n  const history = useHistory();\r\n  const { id } = useParams();\r\n  const currentUser = useCurrentUser();\r\n\r\n  const [userData, setUserData] = useState({\r\n    new_password1: \"\",\r\n    new_password2: \"\",\r\n  });\r\n  const { new_password1, new_password2 } = userData;\r\n\r\n  const [errors, setErrors] = useState({});\r\n\r\n  const handleChange = (event) => {\r\n    setUserData({\r\n      ...userData,\r\n      [event.target.name]: event.target.value,\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (currentUser?.profile_id?.toString() !== id) {\r\n      // redirect user if they are not the owner of this profile\r\n      history.push(\"/\");\r\n    }\r\n  }, [currentUser, history, id]);\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    try {\r\n      await axiosRes.post(\"/dj-rest-auth/password/change/\", userData);\r\n      history.goBack();\r\n    } catch (err) {\r\n      console.log(err);\r\n      setErrors(err.response?.data);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Row>\r\n      <Col className=\"py-2 mx-auto text-center\" md={6}>\r\n        <Container className={appStyles.Content}>\r\n          <Form onSubmit={handleSubmit}>\r\n            <Form.Group>\r\n              <Form.Label>New password</Form.Label>\r\n              <Form.Control\r\n                placeholder=\"new password\"\r\n                type=\"password\"\r\n                value={new_password1}\r\n                onChange={handleChange}\r\n                name=\"new_password1\"\r\n              />\r\n            </Form.Group>\r\n            {errors?.new_password1?.map((message, idx) => (\r\n              <Alert key={idx} variant=\"warning\">\r\n                {message}\r\n              </Alert>\r\n            ))}\r\n            <Form.Group>\r\n              <Form.Label>Confirm password</Form.Label>\r\n              <Form.Control\r\n                placeholder=\"confirm new password\"\r\n                type=\"password\"\r\n                value={new_password2}\r\n                onChange={handleChange}\r\n                name=\"new_password2\"\r\n              />\r\n            </Form.Group>\r\n            {errors?.new_password2?.map((message, idx) => (\r\n              <Alert key={idx} variant=\"warning\">\r\n                {message}\r\n              </Alert>\r\n            ))}\r\n            <Button\r\n              className={`${btnStyles.Button} ${btnStyles.Blue}`}\r\n              onClick={() => history.goBack()}\r\n            >\r\n              cancel\r\n            </Button>\r\n            <Button\r\n              type=\"submit\"\r\n              className={`${btnStyles.Button} ${btnStyles.Blue}`}\r\n            >\r\n              save\r\n            </Button>\r\n          </Form>\r\n        </Container>\r\n      </Col>\r\n    </Row>\r\n  );\r\n};\r\n\r\nexport default UserPasswordForm;","import React, { useState, useEffect, useRef } from \"react\";\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\n\r\nimport Form from \"react-bootstrap/Form\";\r\nimport Button from \"react-bootstrap/Button\";\r\nimport Image from \"react-bootstrap/Image\";\r\nimport Row from \"react-bootstrap/Row\";\r\nimport Col from \"react-bootstrap/Col\";\r\nimport Container from \"react-bootstrap/Container\";\r\nimport Alert from \"react-bootstrap/Alert\";\r\n\r\nimport { axiosReq } from \"../../api/axiosDefaults\";\r\nimport {\r\n  useCurrentUser,\r\n  useSetCurrentUser,\r\n} from \"../../contexts/CurrentUserContext\";\r\n\r\nimport btnStyles from \"../../styles/Button.module.css\";\r\nimport appStyles from \"../../App.module.css\";\r\n\r\nconst ProfileEditForm = () => {\r\n  const currentUser = useCurrentUser();\r\n  const setCurrentUser = useSetCurrentUser();\r\n  const { id } = useParams();\r\n  const history = useHistory();\r\n  const imageFile = useRef();\r\n\r\n  const [profileData, setProfileData] = useState({\r\n    name: \"\",\r\n    content: \"\",\r\n    image: \"\",\r\n    latitude: null,\r\n    longitude: null,\r\n  });\r\n  const { name, content, image, latitude, longitude } = profileData;\r\n\r\n  const [errors, setErrors] = useState({});\r\n\r\n  useEffect(() => {\r\n    const handleMount = async () => {\r\n      if (currentUser?.profile_id?.toString() === id) {\r\n        try {\r\n          const { data } = await axiosReq.get(`/profiles/${id}/`);\r\n          const { name, content, image, latitude, longitude } = data;\r\n          setProfileData({ name, content, image, latitude, longitude });\r\n        } catch (err) {\r\n          console.log(err);\r\n          history.push(\"/\");\r\n        }\r\n      } else {\r\n        history.push(\"/\");\r\n      }\r\n    };\r\n\r\n    handleMount();\r\n  }, [currentUser, history, id]);\r\n\r\n  const handleChange = (event) => {\r\n    setProfileData({\r\n      ...profileData,\r\n      [event.target.name]: event.target.value,\r\n    });\r\n  };\r\n\r\n  function handleLiveLocationClick() {\r\n    if (navigator.geolocation) {\r\n      navigator.geolocation.getCurrentPosition(success, error);\r\n    } else {\r\n      console.log(\"Geolocation is not supported by this browser.\");\r\n    }\r\n  }\r\n\r\n  function success(position) {\r\n    setProfileData({\r\n      ...profileData,\r\n      latitude: position.coords.latitude,\r\n      longitude: position.coords.longitude,\r\n    });\r\n  }\r\n\r\n  function error() {\r\n    console.log(\"Unable to retrieve your location.\");\r\n  }\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    const formData = new FormData();\r\n    formData.append(\"name\", name);\r\n    formData.append(\"content\", content);\r\n    formData.append(\"latitude\", latitude);\r\n    formData.append(\"longitude\", longitude);\r\n\r\n    if (imageFile?.current?.files[0]) {\r\n      formData.append(\"image\", imageFile?.current?.files[0]);\r\n    }\r\n\r\n    try {\r\n      const { data } = await axiosReq.put(`/profiles/${id}/`, formData);\r\n      setCurrentUser((currentUser) => ({\r\n        ...currentUser,\r\n        profile_image: data.image,\r\n      }));\r\n      history.goBack();\r\n    } catch (err) {\r\n      console.log(err);\r\n      setErrors(err.response?.data);\r\n    }\r\n  };\r\n\r\n  const textFields = (\r\n    <>\r\n      <Form.Group>\r\n        <Form.Label>Bio</Form.Label>\r\n        <Form.Control\r\n          as=\"textarea\"\r\n          value={content}\r\n          onChange={handleChange}\r\n          name=\"content\"\r\n          rows={7}\r\n        />\r\n      </Form.Group>\r\n      <Form.Group>\r\n        <Form.Label>Home - latitude</Form.Label>\r\n        <Form.Control\r\n          type=\"text\"\r\n          value={latitude}\r\n          onChange={handleChange}\r\n          name=\"latitude\"\r\n          placeholder=\"Latitude\"\r\n        />\r\n        <Form.Label>Home - longitude</Form.Label>\r\n        <Form.Control\r\n          type=\"text\"\r\n          value={longitude}\r\n          onChange={handleChange}\r\n          name=\"longitude\"\r\n          placeholder=\"Longitude\"\r\n        />\r\n      </Form.Group>\r\n\r\n      {errors?.content?.map((message, idx) => (\r\n        <Alert variant=\"warning\" key={idx}>\r\n          {message}\r\n        </Alert>\r\n      ))}\r\n      <div className=\"mb-2\">\r\n        <Button\r\n          onClick={() => {\r\n            handleLiveLocationClick();\r\n          }}\r\n          className={`${btnStyles.Button} ${btnStyles.Blue}`}\r\n          aria-label=\"Get Live Location\"\r\n        >\r\n          Get Live Location\r\n        </Button>\r\n      </div>\r\n      <Button\r\n        className={`${btnStyles.Button} ${btnStyles.Blue}`}\r\n        onClick={() => history.goBack()}\r\n      >\r\n        cancel\r\n      </Button>\r\n      <Button className={`${btnStyles.Button} ${btnStyles.Blue}`} type=\"submit\">\r\n        save\r\n      </Button>\r\n    </>\r\n  );\r\n\r\n  return (\r\n    <Form onSubmit={handleSubmit}>\r\n      <Row>\r\n        <Col className=\"py-2 p-0 p-md-2 text-center\" md={7} lg={6}>\r\n          <Container className={appStyles.Content}>\r\n            <Form.Group>\r\n              {image && (\r\n                <figure>\r\n                  <Image src={image} fluid />\r\n                </figure>\r\n              )}\r\n              {errors?.image?.map((message, idx) => (\r\n                <Alert variant=\"warning\" key={idx}>\r\n                  {message}\r\n                </Alert>\r\n              ))}\r\n              <div>\r\n                <Form.Label\r\n                  className={`${btnStyles.Button} ${btnStyles.Blue} btn my-auto`}\r\n                  htmlFor=\"image-upload\"\r\n                >\r\n                  Change the image\r\n                </Form.Label>\r\n              </div>\r\n              <Form.File\r\n                id=\"image-upload\"\r\n                ref={imageFile}\r\n                accept=\"image/*\"\r\n                onChange={(e) => {\r\n                  if (e.target.files.length) {\r\n                    setProfileData({\r\n                      ...profileData,\r\n                      image: URL.createObjectURL(e.target.files[0]),\r\n                    });\r\n                  }\r\n                }}\r\n              />\r\n            </Form.Group>\r\n            <div className=\"d-md-none\">{textFields}</div>\r\n          </Container>\r\n        </Col>\r\n        <Col md={5} lg={6} className=\"d-none d-md-block p-0 p-md-2 text-center\">\r\n          <Container className={appStyles.Content}>{textFields}</Container>\r\n        </Col>\r\n      </Row>\r\n    </Form>\r\n  );\r\n};\r\n\r\nexport default ProfileEditForm;\r\n","import { Route, Switch } from \"react-router-dom/cjs/react-router-dom.min\";\nimport styles from \"./App.module.css\";\nimport NavBar from \"./components/NavBar\";\nimport Container from \"react-bootstrap/Container\";\nimport React from \"react\";\nimport \"./api/axiosDefaults\";\nimport SignUpForm from \"./pages/auth/SignUpForm\";\nimport SignInForm from \"./pages/auth/SignInForm\";\nimport PostCreateForm from \"./pages/posts/PostCreateForm\";\nimport PostPage from \"./pages/posts/PostPage\";\nimport PostsPage from \"./pages/posts/PostsPage\";\nimport { useCurrentUser } from \"./contexts/CurrentUserContext\";\nimport PostEditForm from \"./pages/posts/PostEditForm\";\nimport ProfilePage from \"./pages/profiles/ProfilePage\";\nimport UsernameForm from \"./pages/profiles/UsernameForm\";\nimport UserPasswordForm from \"./pages/profiles/UserPasswordForm\";\nimport ProfileEditForm from \"./pages/profiles/ProfileEditForm\";\nimport { useGeoPosition } from \"./contexts/GeoPositionContext\";\n\nfunction App() {\n  const currentUser = useCurrentUser();\n  const profile_id = currentUser?.profile_id || \"\";\n\n  const { reach } = useGeoPosition();\n\n  return (\n    <div className={styles.App}>\n      <NavBar />\n      <Container className={styles.Main}>\n        <Switch>\n          <Route\n            exact\n            path=\"/\"\n            render={() => {\n              return (\n                <div>\n                  <h1>Welcome to Off I Go!</h1>\n                  <p>\n                    Lorem ipsum dolor sit amet, consectetur adipiscing elit.\n                    Aenean ut libero eleifend, laoreet lacus et, ultrices ante.\n                    Fusce nibh ante, fermentum non magna et, pulvinar sagittis\n                    lacus. Nullam laoreet, urna eu tincidunt eleifend, est nisl\n                    vulputate ex, nec tempor dui libero non massa. Praesent\n                    congue lectus vel fringilla bibendum. Cras scelerisque\n                    aliquam elit vel placerat. Mauris mollis eget erat efficitur\n                    eleifend. Curabitur in condimentum neque. Donec ac felis\n                    libero. Nulla augue nulla, facilisis ac lorem et, tristique\n                    suscipit sem. Nam et dolor maximus, condimentum ex non,\n                    auctor libero. Phasellus id imperdiet est, at iaculis felis.\n                    Curabitur vel ex id mi porttitor imperdiet. Curabitur mattis\n                    ante ac orci venenatis, et molestie nulla sagittis. Cras\n                    fringilla felis eget neque euismod blandit. Sed ac sapien\n                    non risus ornare lacinia bibendum eu leo. Vestibulum quis\n                    feugiat mauris. Phasellus at est a risus ornare\n                    sollicitudin. Nullam porttitor, eros ac finibus condimentum,\n                    odio arcu luctus mauris, tempor vulputate neque leo vel\n                    augue. Nunc commodo faucibus vestibulum. Nam pretium mattis\n                    lacus vitae sollicitudin. Pellentesque vitae dui vel urna\n                    varius tristique. Nunc consequat nec tellus et pellentesque.\n                    Duis id nisi ut risus lobortis interdum. Nam eget nunc eget\n                    ex luctus ullamcorper. Donec sodales mauris ut nisi tempus\n                    ullamcorper. Nam tincidunt, sapien et mollis auctor, massa\n                    enim posuere libero, quis rutrum metus sapien eget quam. Ut\n                    lectus elit, dignissim a venenatis vitae, sodales vitae\n                    lorem. Proin ultrices facilisis urna, et ultrices arcu\n                    pharetra vitae. Donec tincidunt quam ex, vitae congue tellus\n                    luctus id. Nunc at sapien nec enim egestas tempus. Donec\n                    lacinia metus nec dolor blandit, gravida feugiat sem\n                    aliquet. Integer lacinia eget diam non consectetur. Quisque\n                    in augue vitae turpis sodales fringilla. Pellentesque vel\n                    volutpat libero, ut lacinia nunc. Praesent vel tincidunt\n                    velit. Sed mollis nisl non velit dictum iaculis. Ut\n                    vestibulum ipsum erat, in feugiat lacus ultricies vel. Donec\n                    dapibus hendrerit metus eu lobortis. Donec fermentum\n                    imperdiet nulla, et lacinia velit laoreet quis. Sed ac\n                    tempus quam. Phasellus dictum felis eget nibh egestas\n                    ornare. Morbi id posuere velit. Nullam ac consectetur\n                    sapien. Nam condimentum ex iaculis hendrerit rutrum. Donec\n                    faucibus risus neque, eget egestas orci blandit eget.\n                    Curabitur consequat congue sem, id suscipit eros viverra\n                    non. Morbi eu lectus dolor. Ut luctus nisi leo, nec\n                    efficitur justo luctus nec. Cras rhoncus tempor nunc ut\n                    imperdiet. Donec eu tempus velit. Maecenas dictum dui id dui\n                    sodales, at eleifend est accumsan. Integer sed hendrerit\n                    enim.\n                  </p>\n                  <p>\n                    Lorem ipsum dolor sit amet, consectetur adipiscing elit.\n                    Aenean ut libero eleifend, laoreet lacus et, ultrices ante.\n                    Fusce nibh ante, fermentum non magna et, pulvinar sagittis\n                    lacus. Nullam laoreet, urna eu tincidunt eleifend, est nisl\n                    vulputate ex, nec tempor dui libero non massa. Praesent\n                    congue lectus vel fringilla bibendum. Cras scelerisque\n                    aliquam elit vel placerat. Mauris mollis eget erat efficitur\n                    eleifend. Curabitur in condimentum neque. Donec ac felis\n                    libero. Nulla augue nulla, facilisis ac lorem et, tristique\n                    suscipit sem. Nam et dolor maximus, condimentum ex non,\n                    auctor libero. Phasellus id imperdiet est, at iaculis felis.\n                    Curabitur vel ex id mi porttitor imperdiet. Curabitur mattis\n                    ante ac orci venenatis, et molestie nulla sagittis. Cras\n                    fringilla felis eget neque euismod blandit. Sed ac sapien\n                    non risus ornare lacinia bibendum eu leo. Vestibulum quis\n                    feugiat mauris. Phasellus at est a risus ornare\n                    sollicitudin. Nullam porttitor, eros ac finibus condimentum,\n                    odio arcu luctus mauris, tempor vulputate neque leo vel\n                    augue. Nunc commodo faucibus vestibulum. Nam pretium mattis\n                    lacus vitae sollicitudin. Pellentesque vitae dui vel urna\n                    varius tristique. Nunc consequat nec tellus et pellentesque.\n                    Duis id nisi ut risus lobortis interdum. Nam eget nunc eget\n                    ex luctus ullamcorper. Donec sodales mauris ut nisi tempus\n                    ullamcorper. Nam tincidunt, sapien et mollis auctor, massa\n                    enim posuere libero, quis rutrum metus sapien eget quam. Ut\n                    lectus elit, dignissim a venenatis vitae, sodales vitae\n                    lorem. Proin ultrices facilisis urna, et ultrices arcu\n                    pharetra vitae. Donec tincidunt quam ex, vitae congue tellus\n                    luctus id. Nunc at sapien nec enim egestas tempus. Donec\n                    lacinia metus nec dolor blandit, gravida feugiat sem\n                    aliquet. Integer lacinia eget diam non consectetur. Quisque\n                    in augue vitae turpis sodales fringilla. Pellentesque vel\n                    volutpat libero, ut lacinia nunc. Praesent vel tincidunt\n                    velit. Sed mollis nisl non velit dictum iaculis. Ut\n                    vestibulum ipsum erat, in feugiat lacus ultricies vel. Donec\n                    dapibus hendrerit metus eu lobortis. Donec fermentum\n                    imperdiet nulla, et lacinia velit laoreet quis. Sed ac\n                    tempus quam. Phasellus dictum felis eget nibh egestas\n                    ornare. Morbi id posuere velit. Nullam ac consectetur\n                    sapien. Nam condimentum ex iaculis hendrerit rutrum. Donec\n                    faucibus risus neque, eget egestas orci blandit eget.\n                    Curabitur consequat congue sem, id suscipit eros viverra\n                    non. Morbi eu lectus dolor. Ut luctus nisi leo, nec\n                    efficitur justo luctus nec. Cras rhoncus tempor nunc ut\n                    imperdiet. Donec eu tempus velit. Maecenas dictum dui id dui\n                    sodales, at eleifend est accumsan. Integer sed hendrerit\n                    enim.\n                  </p>\n                </div>\n              );\n            }}\n          />\n          <Route\n            exact\n            path=\"/discover\"\n            render={() => (\n              <PostsPage message=\"No results found. Adjust the search keyword.\" />\n            )}\n          />\n          <Route\n            exact\n            path=\"/feed\"\n            render={() => (\n              <PostsPage\n                message=\"No results found. Adjust the search keyword or follow a user.\"\n                filter={`owner__followed__owner__profile=${profile_id}&`}\n              />\n            )}\n          />\n          <Route\n            exact\n            path=\"/for-me\"\n            render={() => (\n              <PostsPage message=\"No results found. Adjust the search keyword or add tags to your interests.\" />\n            )}\n          />\n          <Route\n            exact\n            path=\"/near-me\"\n            render={() => (\n              <PostsPage\n                message=\"No results found. Adjust the search keyword or select your live location or add a location to your profile.\"\n                filter={`latitude__range=${reach.latSouth},${reach.latNorth}&longitude__range=${reach.lonWest},${reach.lonEast}`}\n                nearMe\n              />\n            )}\n          />\n          <Route exact path=\"/signin\" render={() => <SignInForm />} />\n          <Route exact path=\"/signup\" render={() => <SignUpForm />} />\n          <Route exact path=\"/posts/create\" render={() => <PostCreateForm />} />\n          <Route exact path=\"/posts/:id\" render={() => <PostPage />} />\n          <Route exact path=\"/posts/:id/edit\" render={() => <PostEditForm />} />\n          <Route exact path=\"/profiles/:id\" render={() => <ProfilePage />} />\n          <Route\n            exact\n            path=\"/profiles/:id/edit/username\"\n            render={() => <UsernameForm />}\n          />\n          <Route\n            exact\n            path=\"/profiles/:id/edit/password\"\n            render={() => <UserPasswordForm />}\n          />\n          <Route\n            exact\n            path=\"/profiles/:id/edit\"\n            render={() => <ProfileEditForm />}\n          />\n          <Route render={() => <p>Page not found!</p>} />\n        </Switch>\n      </Container>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\nimport { BrowserRouter as Router } from \"react-router-dom\";\r\nimport { CurrentUserProvider } from \"./contexts/CurrentUserContext\";\r\nimport { DeviceSizeProvider } from \"./contexts/DeviceSizeContext\";\r\nimport { ProfileDataProvider } from \"./contexts/ProfileDataContext\";\r\nimport { GeoPositionProvider } from \"./contexts/GeoPositionContext\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Router>\r\n      <CurrentUserProvider>\r\n        <ProfileDataProvider>\r\n          <GeoPositionProvider>\r\n            <DeviceSizeProvider>\r\n              <App />\r\n            </DeviceSizeProvider>\r\n          </GeoPositionProvider>\r\n        </ProfileDataProvider>\r\n      </CurrentUserProvider>\r\n    </Router>\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"NavBar\":\"NavBar_NavBar__1kAIQ\",\"Brand\":\"NavBar_Brand__ftr3n\",\"NavLink\":\"NavBar_NavLink__363tL\",\"Toggle\":\"NavBar_Toggle__4Td4U\",\"Active\":\"NavBar_Active__2421Z\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Row\":\"SignInUpForm_Row__3IPZH\",\"Input\":\"SignInUpForm_Input__yYoBY\",\"Header\":\"SignInUpForm_Header__8t2l7\",\"Link\":\"SignInUpForm_Link__39LI4\",\"Container\":\"SignInUpForm_Container__2x7XM\",\"SignInCol\":\"SignInUpForm_SignInCol__1TovZ\",\"SignInImage\":\"SignInUpForm_SignInImage__2JXXl\",\"SignUpImage\":\"SignInUpForm_SignUpImage__2U-z8\",\"SignUpCol\":\"SignInUpForm_SignUpCol__3ltuH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"BaseWidget\":\"BaseWidget_BaseWidget__18kJp\",\"MessageWidget\":\"BaseWidget_MessageWidget__2KFQh\",\"NavMenu\":\"BaseWidget_NavMenu__A-7t-\",\"dropShadow\":\"BaseWidget_dropShadow__1owAN\",\"btn-DropNav\":\"BaseWidget_btn-DropNav__3Mul2\",\"dropup\":\"BaseWidget_dropup__1jCt2\",\"dropdown-toggle\":\"BaseWidget_dropdown-toggle__1O6-C\",\"widget-nav-bar\":\"BaseWidget_widget-nav-bar__3Zb1u\",\"NavBar\":\"BaseWidget_NavBar__2da29\",\"Toggle\":\"BaseWidget_Toggle__vX41E\",\"NavLink\":\"BaseWidget_NavLink__1YAl-\",\"Active\":\"BaseWidget_Active__1uhub\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Post\":\"Post_Post__21eNG\",\"Reaction\":\"Post_Reaction__3Ftls\",\"ReactionOutline\":\"Post_ReactionOutline__2uF2j\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Form\":\"CommentCreateEditForm_Form__IZfyC\",\"Button\":\"CommentCreateEditForm_Button__26gLY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"PopularReactions\":\"PopularReactions_PopularReactions__3Bwf2\",\"PopularReactions1\":\"PopularReactions_PopularReactions1__jqRGS\",\"PopularReactions2\":\"PopularReactions_PopularReactions2__1zdax\",\"PopularReactions3\":\"PopularReactions_PopularReactions3__3AiF9\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Container\":\"PostCreateEditForm_Container__359yl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"DropdownItem\":\"MoreDropdown_DropdownItem__1A5cJ\",\"Absolute\":\"MoreDropdown_Absolute__1Orxp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Owner\":\"Comment_Owner__L5keg\",\"Date\":\"Comment_Date__2cOkk\",\"Edited\":\"Comment_Edited__D7BCH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"SearchBar\":\"PostsPage_SearchBar__3bIV1\",\"RadiusBar\":\"PostsPage_RadiusBar__1x_QL\",\"SearchIcon\":\"PostsPage_SearchIcon__1Ot_0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Asset\":\"Asset_Asset__2P0YU\",\"Icon\":\"Asset_Icon__10XPt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Avatar\":\"Avatar_Avatar__3vp67\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__1zB88\",\"SqButton\":\"Button_SqButton__3ccv3\",\"Wide\":\"Button_Wide__-vUtb\",\"Blue\":\"Button_Blue__2biaU\",\"BlueOutline\":\"Button_BlueOutline__1fZIz\",\"Bright\":\"Button_Bright__3Bm34\",\"Black\":\"Button_Black__2WjjZ\",\"BlackOutline\":\"Button_BlackOutline__3lfEM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"WordBreak\":\"Profile_WordBreak__3fNDs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ProfileImage\":\"ProfilePage_ProfileImage___rwC0\"};"],"sourceRoot":""}